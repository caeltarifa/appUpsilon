{% extends 'temp_plan_vuelo/baseadmin.html' %} 
{% load static %} 

{% block title %}
<title>appUpsilon | Crear</title>
{% endblock title %}



{% block extra_head %}
    <link rel='stylesheet' href='https://harvesthq.github.io/chosen/chosen.css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- <link rel="stylesheet" href="{% static 'theme-assets/css/aprobar_plan.css' %}"> -->
    <link rel="stylesheet" href="{% static 'theme-assets/css/pib.css' %}">




    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css'>


{% endblock extra_head %}
    
<!-- ////////////////////////////////////////////////////////////////////////////-->






{% block content %}


<style>
  #map { position: relative; width: 65%; }

  .subscription-container {
    display: flex;
    align-items: center;
    flex-flow: row wrap;
    justify-content: space-around;
    width: 100%;
    max-width: 560px;
  }
  
  .subscription__title {
    text-transform: uppercase;
    font-family: "Open Sans", sans-serif;
    margin-top: 0;
    margin-bottom: 0;
    color: #2789ca;
  }
  
  .subscription__button {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 170px;
    margin: 5px 0;
    padding: 5px 0;
    border-radius: 5px;
    border: solid 3px white;
    background: white;
    box-shadow: 0px 0px 20px -10px rgba(0, 0, 0, 0.4);
    transition: transform 0.5s;
    cursor: pointer;
  }
  .subscription__button:before {
    content: "";
    display: block;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    margin: 10px;
    border: solid 3px #bebdbd;
    transform: translateY(-30%);
  }
  
  input[type=radio] {
    display: none;
  }
  input[type=radio]:checked + label:before {
    background: #1292e7;
    font-size: 50px;
  }
  input[type=radio]:checked + label {
    border: solid 3px #51b9ff;
    background: white;
    transform: translateY(-10%);
    transition: transform 0.5s;
  }
  input[type=radio]:checked + label .subscription__title {
    color: #1292e7;
  }
</style>




<br><br>
<section>
  <div class="row justify-content-center">
      <div class="col-10" style="align-content: center;">
          <div class="card" style="box-shadow: 2px 2px 8px 0 black; min-height: 30%;  max-height: 100%; ">
              <!--CONTENIDO DEL FORMULARIO NOTAM NUEVO-->
              <div class="card-content collapse show" style="height: 75%; overflow-y: auto;">
                  <!--==========================
                  BOLETIN DE INFORMACION RAPIDA
                   ============================-->
                  <section class="section-bg" >
                      <div class="container-fluid">
                          <div class="section-header" style="text-align:center;">
                              <br><br><br>
                              <h2 class="section-title">
                                <span class="material-icons">
                                  post_add
                                </span>
                                NUEVO NOTAM
                              </h2>
                              <span class="section-divider"></span>
                              <p class="section-description">
                                  Generacion guiada de notam
                              </p>
                              
                              
                              <div class="container"  id="FORM_NOTAM"> 
                                
                                <section id="appNewnotam" class="section">

                                  <div class="row justify-content-center input-group" >
                                    <!--
                                      RADIO BUTTON SELECT TIPO DE NOTAM 
                                    -->
                                    <div class="subscription-container">
                                      
                                      <input type="radio" name="radio" id="option1" value="NOTAMN" v-model="form.model_tiponotam" checked="checked">
                                      <label for="option1" class="subscription__button">
                                          <h6 class="subscription__title">NOTAMN</h6>
                                      </label>
                                    
                                      <input type="radio" name="radio" id="option2" value="NOTAMR" v-model="form.model_tiponotam">
                                      <label for="option2" class="subscription__button">
                                          <h6 class="subscription__title">NOTAMR</h6>
                                      </label>
                                      
                                      <input type="radio" name="radio" id="option3" value="NOTAMC" v-model="form.model_tiponotam">
                                      <label for="option3" class="subscription__button">
                                          <h6 class="subscription__title">NOTAMC</h6>
                                      </label>
                                    </div>
                                      <!--
                                      RADIO BUTTON SELECT TIPO DE NOTAM 
                                    -->
                                  </div>

                                  <div id="accordion"  v-if="form.model_tiponotam">
                                    

                                    <br>
                                    <div class="card" >
                                      <div style="padding: 0px;" class="card-header" id="headingZero">
                                        <h5 class="mb-0">
                                          <button class="btn btn-link" data-toggle="collapse" data-target="#collapseZero" aria-expanded="true" aria-controls="collapseZero" style="width: 100%; background-color: rgb(229, 242, 252);">
                                            Antecedente NOTAM
                                          </button>
                                        </h5>
                                      </div>
                                  
                                      <div id="collapseZero" class="collapse show" aria-labelledby="headingZero" data-parent="#accordion">
                                        <div class="card-body">
                                          
                                          <div class="input-group">
                                            <textarea @keyup="validar_antecedente($event)" v-model="form.model_antecedente_notam" @input="form.model_antecedente_notam = $event.target.value.toUpperCase()" id="id_antecedente_notam" class="form-control" style="width: 100%;" rows="2"  placeholder="Antecedente NOTAM"> </textarea>
                                          </div>

                                        </div>
                                      </div>
                                    </div>



                                    <br>
                                    <div class="card" >
                                      <div style="padding: 0px;" class="card-header" id="headingOne">
                                        <h5 class="mb-0">
                                          <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" style="width: 100%; background-color: rgb(229, 242, 252);">
                                            DTG
                                          </button>
                                        </h5>
                                      </div>
                                  
                                      <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                                        <div class="card-body">
                                          
                                          <div class="input-group">
                                            
                                            <select class="form-control" v-model="form.model_prioridad">
                                              <option v-for="prioridad in form.prioridad" :value="prioridad" >
                                                  [[prioridad]]
                                              </option>
                                            </select>

                                            <input class="input form-control" placeholder="Fecha deposito" type="date" v-model="form.fecha_deposito" />
                                            <input class="input form-control" placeholder="HR DEPOSITO" type="text" v-model="form.hora_deposito"/>
                                            <input class="input form-control" placeholder="REMITENTE" type="text" v-model="form.remitente" @input="form.remitente = $event.target.value.toUpperCase()" maxlength="8" />

                                          </div>

                                        </div>
                                      </div>
                                    </div>
       
                                    <div class="card">
                                      <div style="padding: 0px;"  class="card-header" id="headingTwo">
                                        <h5 class="mb-0">
                                          <button style="width: 100%; background-color: rgb(229, 242, 252);" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" style="width: 100%; height: 100%;">
                                            Casilla Q
                                          </button>
                                        </h5>
                                      </div>
                                      <div id="collapseTwo" class="collapse show" aria-labelledby="headingTwo" data-parent="#accordion">
                                        <div class="card-body">

                                          <div class="input-group">
                                            <input @keyup="validar_id_charly_origen($event)" id="id_charly_origen" class="input form-control" placeholder="C0001/21" type="text" v-model="form.correlativo_charly" v-on:keyup.enter="buscar_correlativo_charly" maxlength="8" @input="form.correlativo_charly = $event.target.value.toUpperCase()" />
                                            >>><input @keyup="validar_id_charly_destino($event)" id="id_charly_destino" v-if="form.model_tiponotam == 'NOTAMR' || form.model_tiponotam == 'NOTAMC' " v-model="form.model_destino_notam_charly" @input="form.model_destino_notam_charly = $event.target.value.toUpperCase()" class="input form-control" placeholder="NOTAM charlie a cambiar" type="text" minlength="8" maxlength="8" v-on:keyup.enter="buscar_notam_pasado_charly" />
                                          </div>

                                          <div class="input-group" >
                                            <input @keypress="validar_id_alfa_origen($event)" id="id_alfa_origen" class="input form-control" placeholder="A0001/21" type="text" v-model="form.correlativo_alfa" @input="form.correlativo_alfa = $event.target.value.toUpperCase()" v-on:keyup.enter="buscar_correlativo_alfa" maxlength="8"/>
                                            >>><input @keypress="validar_id_alfa_destino($event)" id="id_alfa_destino" v-if="form.model_tiponotam == 'NOTAMR' || form.model_tiponotam == 'NOTAMC' " v-model="form.model_destino_notam_alfa" @input="form.model_destino_notam_alfa = $event.target.value.toUpperCase()" class="input form-control" placeholder="NOTAM alpha a cambiar" type="text" minlength="8" maxlength="8" />
                                          </div>

                                          <div class="input-group" >
                                              <select id="id_select_titulo_asunto" class="form-control" v-model="form.model_titulo_asunto" v-on:change="buscar_lista_asuntos($event)">
                                                <option disabled> Titulo del asunto</option>
                                                {% for letra in lista_letras %}
                                                  <option value="{{letra.id_letra}}"> {{letra.id_letra}} {{letra.titulo_letra}}</option>
                                                {% endfor %}
                                              </select>

                                              <select id="id_select_asunto" class="form-control" v-model="form.model_asunto" v-on:change="buscar_lista_estado_asuntos($event)">
                                                <option disabled> Asunto</option>
                                                <option v-for="obj in form.asunto" :value="obj.id_asunto">
                                                    [[obj.id_asunto]]
                                                    [[obj.descripcion_asunto]]
                                                </option>
                                              </select>


                                              <select id="id_select_estado_asunto" class="form-control" v-model="form.model_estado_asunto"  v-on:change="asignar_estado_asunto_pib($event)">
                                                <option disabled> Estado de asunto</option>
                                                <option v-for="obj in form.estado_asunto" :value="obj.id_estado_asunto">
                                                  [[obj.id_estado_asunto]]
                                                  [[obj.descripcion_estado]]
                                                </option>
                                              </select>
                                            </div>


                                          <div class="input-group"> 
                                            <select class="form-control" v-model="form.model_tipo">
                                              <option v-for="tipo in form.tipo" :value="tipo">
                                                  [[tipo]]
                                              </option>
                                            </select>

                                            <select class="form-control" v-model="form.model_nbo">
                                              <option v-for="nbo in form.nbo" :value="nbo" >
                                                  [[nbo]]
                                              </option>
                                            </select>

                                            <select class="form-control" v-model="form.model_alcance">
                                              <option v-for="alcance in form.alcance" :value="alcance" >
                                                  [[alcance]]
                                              </option>
                                            </select>
                                          </div>
    
                                          <div class="input-group">
                                              <input id="id_nivel_inf" class="input form-control col-sm-2" placeholder="Inferior" type="text" v-model="form.nivel_inf" maxlength="3" @keyup="isNumber($event)" />
                                              <input id="id_nivel_sup" class="input form-control col-sm-2" placeholder="superior" type="text" v-model="form.nivel_sup" maxlength="3" @keyup="isNumber($event)" />
                                            
                                              <select id="id_select_lugar" class="form-control col-md-2" style="width: 10px;border: 3px solid rgb(167, 231, 71);"  v-model="form.model_coordenadas" @change="actualizar_casilla_a($event)">
                                                <option disabled> Lugar</option>
                                                {% for geo in lista_georeferencias %}
                                                  <option value="{{geo.icao}} {{geo.fuente}} {{geo.georef}}">{{geo.icao}} {{geo.fuente}} {{geo.georef}}</option>
                                                {% endfor %}
                                              </select>
                                              <input class="input form-control col-md-4"  placeholder="Coordenada" type="text" v-model="form.model_coordenadas">
                                              
                                              <input id="id_radio" class="input form-control col-sm-2" placeholder="Radio" type="text" v-model="form.radio"  maxlength="3"  @keyup="isNumber($event)"/>
                                          </div>
                                          


                                        </div>
                                      </div>
                                    </div>
    
                                    <div class="card">
                                      <div style="padding: 0px;"  class="card-header" id="headingThree">
                                          <button style="width: 100%; background-color: rgb(229, 242, 252);" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree" style="width: 100%; height: 100%;">
                                            Casillas A B C D E F G
                                          </button>
                                      </div>
                                      <div id="collapseThree" class="collapse show" aria-labelledby="headingThree" data-parent="#accordion">
                                        <div class="card-body">

                                          <div class="input-group">
                                            &nbsp;&nbsp;A) &nbsp;&nbsp;
                                            <input id="id_lugar" class="input form-control" placeholder="Lugar" type="text" v-model="form.lugar" />
                                            
                                            &nbsp;&nbsp;B) &nbsp;&nbsp;
                                            <input class="input form-control" type="date" v-model="form.desde_fecha"/>
                                            <input id="id_hora_desde" class="input form-control" placeholder="0000" type="text" v-model="form.desde_hora" maxlength="4" @keyup="isNumber($event)" />

                                            &nbsp;&nbsp;C) &nbsp;&nbsp;
                                            <input v-if="form.model_tiponotam != 'NOTAMC' " class="input form-control" type="date" v-model="form.hasta_fecha"/>
                                            <input id="id_hora_hasta" v-if="form.model_tiponotam != 'NOTAMC' " class="input form-control" placeholder="0000" type="text" v-model="form.hasta_hora" maxlength="4" @keyup="isNumber($event)"/>

                                            <div class="field">
                                              <div class="control" v-if="form.model_tiponotam != 'NOTAMC' " >
                                                  <label>
                                                    &nbsp;
                                                    <input type="checkbox" value="EST" v-model="form.estimado"  />
                                                    EST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                  </label>
                                                  <br>
                                                  <label>
                                                    <input @change="borrar_casilla_c()" type="checkbox" value="PERM" v-model="form.permanente"  />
                                                    PERM
                                                  </label>
                                              </div>
                                            </div>
  
                                          </div>

                                          <div class="input-group">
                                            &nbsp;&nbsp;D) &nbsp;&nbsp;
                                            <input class="input form-control" placeholder="Intervalo" type="text" v-model="form.casilla_d" @input="form.casilla_d = $event.target.value.toUpperCase()" />
                                          </div>

                                          <br>

                                          <div class="input-group">
                                            &nbsp;&nbsp;E) &nbsp;&nbsp;&nbsp;
                                          </div>

                                          <div class="input-group" v-if="form.correlativo_charly">
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <textarea class="form-control" style="width: 80%;" rows="2" placeholder="Cuerpo Charlie" type="text" v-model="form.cuerpo_charly" @input="form.cuerpo_charly = $event.target.value.toUpperCase()" ></textarea>
                                          </div>

                                          <br>

                                          <div class="input-group" v-if="form.correlativo_alfa">
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <textarea class="form-control" style="width: 80%;" rows="2" placeholder="Cuerpo Alpha" type="text" v-model="form.cuerpo_alfa" @input="form.cuerpo_alfa = $event.target.value.toUpperCase()" ></textarea>
                                          </div>
                                          <br>

                                          <div class="input-group">
                                            &nbsp;&nbsp;F) &nbsp;&nbsp;&nbsp;
                                            <input class="input form-control" placeholder="Limite inf" type="text" v-model="form.limite_inferior" @input="form.limite_inferior = $event.target.value.toUpperCase()" />
                                                                                        
                                            &nbsp;&nbsp;G) &nbsp;&nbsp;
                                            <input class="input form-control" placeholder="Limite sup" type="text" v-model="form.limite_superior" @input="form.limite_superior = $event.target.value.toUpperCase()" />
                                          </div>

                                        </div>
                                      </div>
                                    </div>

                                    <div class="card" v-if="form.correlativo_charly">
                                      <div style="padding: 0px;"  class="card-header" id="headingFour">
                                          <button style="width: 100%; background-color: rgb(229, 242, 252);" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseThree" style="width: 100%; height: 100%;">
                                             Boletin PIB
                                          </button>
                                      </div>
                                      <div id="collapseFour" class="collapse show" aria-labelledby="headingThree" data-parent="#accordion">
                                        <div class="card-body">
  
                                         
                                          <div class="input-group">
                                            &nbsp;&nbsp;Instalación &nbsp;&nbsp;
                                            <input class="input form-control" placeholder="Asunto" type="text" v-model="form.pib_asunto" @input="form.pib_asunto = $event.target.value.toUpperCase()" />
                                          </div>

                                          <div class="input-group">
                                            &nbsp;&nbsp;Estado&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <input class="input form-control" placeholder="Estado del asunto" type="text" v-model="form.pib_estado_asunto" @input="form.pib_estado_asunto = $event.target.value.toUpperCase()" />
                                          </div>

                                          <br>
                                          <textarea disabled  id="pib_publicar" v-if="form.hasta_fecha" class="form-control" style="width: 100%;" rows="4"> DESDE [[form.desde_fecha.split('-').reverse().join('/')]] HR [[form.desde_hora]] [[form.pib_estado_asunto]] HASTA [[form.hasta_fecha.split('-').reverse().join('/')]] HR [[form.hasta_hora]]  [[ form.estimado[form.estimado.length -1] ]] </textarea> <!-- ([[form.correlativo_charly]]) --> 
                                          <textarea disabled  id="pib_publicar" v-else class="form-control" style="width: 100%;" rows="4"> DESDE [[form.desde_fecha.split('-').reverse().join('/')]] HR [[form.desde_hora]] [[form.pib_estado_asunto]] </textarea>  <!-- ([[form.correlativo_charly]]) -->

  
                                        </div>
                                      </div>
                                    </div>

                                  </div>

                                  <!--
                                    <h1 class="title is-1" v-text="form.formName"></h1>
                                    <div class="columns">
                                      <div class="column">
                                        <form>
                                            <div class="field">
                                              <label class="label">fromname Name</label>
                                              <div class="control">
                                                  <input class="input" type="text" v-model="form.formName" />
                                              </div>
                                            </div>
  
                                            <div class="field">
                                                <label class="label">Name</label>
                                                <div class="control">
                                                    <input class="input" type="text" v-model="form.userName" />
                                                </div>
                                            </div>
                            
                                            <div class="field">
                                                <label class="label">Favorite Color</label>
                                                <div class="control">
                                                    <div class="select">
                                                        <select class="form-control" v-model="form.favoriteColor">
                                                            <option v-for="color in form.arrayColors" :value="color">
                                                                [[color]]
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                            
                                            <div class="field">
                                                <label class="label">Favorite Hamburger Place</label>
                                                <div class="control">
                                                    <label>
                                                        <input type="radio" name="hamburgerPlace" value="whataburger" v-model="form.favoriteHamburger" />
                                                        Whataburger
                                                    </label>
                                                    <br>
                                                    <label>
                                                        <input type="radio" name="hamburgerPlace" value="pterrys" v-model="form.favoriteHamburger" />
                                                        P.Terry's
                                                    </label>
                                                    <br>
                                                    <label>
                                                        <input type="radio" name="hamburgerPlace" value="hopdoddy" v-model="form.favoriteHamburger" />
                                                        Hopdoddy
                                                    </label>
                                                </div>
                                            </div>
                            
                                            <div class="field">
                                                <label class="label">Favorite Hangout</label>
                                                <div class="control">
                                                    <label>
                                                        <input type="checkbox" value="barton-springs" v-model="form.favoriteHangout" />
                                                        Barton Springs
                                                    </label>
                                                    <br>
                                                    <label>
                                                        <input type="checkbox" value="zilker-park" v-model="form.favoriteHangout" />
                                                        Zilker Park
                                                    </label>
                                                    <br>
                                                    <label>
                                                        <input type="checkbox" value="sixth-street" v-model="form.favoriteHangout" />
                                                        Sixth Street
                                                    </label>
                                                </div>
                                            </div>
                            
                                            <div class="field">
                                                <label class="label">How many hours a week do you work?</label>
                                                <div class="control">
                                                    <h4 class="title is-4">
                                                        [[form.workHours]] / 80
                                                    </h4>
                                                    <input type="range" min="0" max="80" v-model="form.workHours" />
                                                </div>
                                            </div>
                            
                                            <input class="button is-primary margin-bottom" type="submit" @click.prevent="fakeSubmit" />
                            
                                        </form>
                            
                                        <transition name="fade" mode="out-in">
                                            <article class="message is-primary" v-show="showSubmitFeedback">
                                                <div class="message-header">
                                                    <p>Fake Send Status:</p>
                                                </div>
                                                <div class="message-body">
                                                    Successfully Submitted!
                                                </div>
                                            </article>
                                        </transition>
                                      </div>
                                    </div>
                                  -->

                                  <div class="container">
                                      <div class="row justify-content-center" v-if="form.correlativo_charly">
                                        <p style="text-align: left;min-height: 100px; width:65%; background-color: rgb(222, 248, 240);"  id="copy-notam-charly">
                                          <!-- <code id="copy-notam-charly" > -->
  <!-- [[form.model_prioridad]]  <br>
  [[form.fecha_deposito.substring(8,)]][[form.hora_deposito]] [[form.remitente]] <br> -->
  ([[form.correlativo_charly]] [[form.model_tiponotam]] [[form.model_destino_notam_charly]] <br>
  Q) SLLF/Q[[form.model_asunto]][[form.model_estado_asunto]]/[[form.model_tipo]]/[[form.model_nbo]]/[[form.model_alcance]]/[[form.nivel_inf]]/[[form.nivel_sup]]/[[form.model_coordenadas.split(" ")[2] ]][[form.radio]] <br>
  A) [[form.lugar]] B) [[( form.desde_fecha.substring(2,) ).replace("-","").replace("-","") ]][[form.desde_hora]] C) [[form.hasta_fecha.substring(2,).replace("-","").replace("-","")]][[form.hasta_hora]] [[ form.estimado[form.estimado.length -1] ]]  [[ form.permanente[form.permanente.length -1] ]]  <br>
  <span v-if="form.casilla_d"> D) [[form.casilla_d]] <br> </span> 
  E) [[form.cuerpo_charly]]
  <span v-if="form.limite_inferior"><br> F) [[form.limite_inferior]]  </span>
  <span v-if="form.limite_superior"><br> G) [[form.limite_superior]]  </span>)
                                          <br>
                                          <!-- </code> -->
                                        </p>
                                        <span class="btn btn-info text-white text-justify" style=" height: 100px;" @click="copy_clipboard('copy-notam-charly')">
                                            AMHS
                                            <br>
                                            CHARLIE
                                        </span>
                                      </div>
  
                                      &nbsp;
                                      &nbsp;

                                      <div class="row justify-content-center" v-if="form.correlativo_alfa" style="min-height: 100px; min-width: 70%;">
                                        <p style="text-align: left;min-height: 100px; width:65%; background-color: rgb(222, 248, 240);" id="copy-notam-alfa">
  <!--                                           <code id="copy-notam-alfa" > -->
  <!-- [[form.model_prioridad]]   <br> -->
  <!-- [[form.fecha_deposito.substring(8,)]][[form.hora_deposito]] [[form.remitente]] <br> -->
  ([[form.correlativo_alfa]] [[form.model_tiponotam]] [[form.model_destino_notam_alfa]] <br>
  Q) SLLF/Q[[form.model_asunto]][[form.model_estado_asunto]]/[[form.model_tipo]]/[[form.model_nbo]]/[[form.model_alcance]]/[[form.nivel_inf]]/[[form.nivel_sup]]/[[form.model_coordenadas.split(" ")[2] ]][[form.radio]] <br>
  A) [[form.lugar]] B) [[form.desde_fecha.substring(2,).replace("-","").replace("-","")]][[form.desde_hora]] C) [[form.hasta_fecha.substring(2,).replace("-","").replace("-","")]][[form.hasta_hora]] [[ form.estimado[form.estimado.length -1] ]] <br>
  <span v-if="form.casilla_d"> D) [[form.casilla_d]] <br> </span>
  E) [[form.cuerpo_alfa]]
  <span v-if="form.limite_inferior"> <br> F) [[form.limite_inferior]] </span>
  <span v-if="form.limite_superior"> <br> G) [[form.limite_superior]] </span>)
                                            <!-- </code> -->
                                            <br>
                                        </p>
                                        <span class="btn btn-info text-white text-justify" style=" height: 100px;" @click="copy_clipboard('copy-notam-alfa')">
                                        AMHS 
                                        <br>
                                        ALPHA&nbsp;&nbsp;
                                        </span>
                                      </div>


                                      <br>
                                      <br>
                                      
                                      <div class="row justify-content-center">
                                        <!--mita 2-->
                                        <div id='map' v-bind:style="[form.model_coordenadas != 'Seleccione un lugar'?{ 'height':'300px' }:{'height':'0%'}]"></div>
                                      </div>


                                  </div>

                              

                                  <div style="width: 100%;">
                                    <form class="form-group" id="data_srv_id" action="{% url 'view_post_crear_notam' %}" method="POST"  enctype="multipart/form-data">
                                      {% csrf_token %}
                                       <!-- tipo  > -->  <input style="display:none;" type="text" name="tipo" v-model="data_srv.tipo"><!--    <br>  -->
                                       <!-- notam_header  > -->  <input style="display:none;" type="text" name="notam_header" v-model="data_srv.notam_header"><!--    <br>  -->
                                       <!-- notam_destino  > -->  <input style="display:none;" type="text" name="notam_destino" v-model="data_srv.destino_notam"><!--    <br>  -->
                                       <!-- amhs1  > -->  <input style="display:none;" type="text" name="amhs1" v-model="data_srv.amhs1"><!--    <br>  -->
                                       <!-- amhs2  > -->  <input style="display:none;" type="text" name="amhs2" v-model="data_srv.amhs2"><!--     <br>  -->
                                       <!-- resumen  > -->  <input style="display:none;" type="text" name="resumen" v-model="data_srv.resumen"><!--    <br>  -->
                                       <!-- aplica_a  > -->  <input style="display:none;" type="text" name="aplica_a" v-model="data_srv.aplica_a"><!--    <br>  -->
                                       <!-- valido_desde   > --> <input style="display:none;" type="text" name="valido_desde" v-model="data_srv.valido_desde"><!--    <br>  -->
                                       <!-- valido_hasta   > --> <input style="display:none;" type="text" name="valido_hasta" v-model="data_srv.valido_hasta"><!--    <br>  -->
                                       <!-- mensaje  > -->  <input style="display:none;" type="text" name="mensaje" v-model="data_srv.mensaje"><!--    <br>  -->
                                       <!-- mensaje_charly  > -->  <input style="display:none;" type="text" name="mensaje_charly" v-model="data_srv.mensaje_charly"><!--    <br>  -->
                                       <!-- mensaje_alfa  > -->  <input style="display:none;" type="text" name="mensaje_alfa" v-model="data_srv.mensaje_alfa"><!--    <br>  -->
                                       <!-- asunto  > -->  <input style="display:none;" type="text" name="asunto" v-model="data_srv.asunto"><!--    <br>  -->
                                       <!-- estado_asunto  > -->  <input style="display:none;" type="text" name="estado_asunto" v-model="data_srv.estado_asunto"><!--    <br>  -->
                                       <!-- pib_pulicar  > -->  <input style="display:none;" type="text" name="pib_publicar" v-model="data_srv.pib_publicar"><!--    <br>  -->
                                       <!-- estimado  > -->  <input style="display:none;" type="text" name="estimado" v-model="data_srv.estimado_srv"><!--    <br>  -->
                                       <!-- permanente  > -->  <input style="display:none;" type="text" name="permanente" v-model="data_srv.permanente_srv"><!--    <br>  -->
                                       <!-- antecedente  > -->  <input style="display:none;" type="text" name="antecedente" v-model="data_srv.antecedente_notam"><!--    <br>  -->
                                      
                                      <input class="btn btn-outline-dark" type="file" name="formulario_oaci" id="id_formulario_oaci" required style="height: 30%; font-size: 15px; width: 80%;">

                                      <br>
                                      <!-- BUTTON PARA ENVIAR
                                      -->

                                      <br>

                                      <input class="btn btn-info text-white copy-btn" type="submit" value="GUARDAR NOTAM" @click="guardar_notam()">
                                    </form>
                                  </div>
                                </section>
                                
                                
                                <div id="appFormularioOaci" style="position: fixed; top: 35%; right: 5px;" >
                                  <v-btn @click='generatePDF()' style="background-color: rgb(83, 201, 255);height: 120px; width: 120px;">
                                        <span class="material-icons" >
                                          post_add
                                        </span>

                                        <span style="font-size: 9;">
                                          FORM AIS 001
                                        </span>
                                  </v-btn>
                                </div>

                              </div>

                              
                              <br>
                              <br>

                          </div>
                      </div>
                  </section>
              </div>
          </div>
      </div>
  </div>
</section>






{% endblock content %} 


{% block extrajs %}
<script src='https://harvesthq.github.io/chosen/chosen.jquery.js'></script>

<script type="text/javascript">
  const valid_charly_format = /^[C][0-9]{4}\/[0-4]{2}?$/;
  const valid_alfa_format = /^[A][0-9]{4}\/[0-4]{2}?$/;

  const valid_time_24=/^(0[0-9]|1[0-9]|2[0-3])[0-5][0-9]$/;

    $(function(){
      //const valid = userKeyRegExp.test('C0999/00');
    });

    sw=true;

    //DESPLAZAMIENTO SUAVIZADO
    $('.main-menu-content a').click(function(e){				
		e.preventDefault();		//evitar el eventos del enlace normal
		var strAncla=$(this).attr('href'); //id del ancla
			$('body,html').stop(true,true).animate({				
				scrollTop: $(strAncla).offset().top
			},200);		
    });

</script>


<script>
  function getAsunto(){
    select = document.getElementById('letra_asunto_id')
    selectedOption = select.options[select.selectedIndex];
    letra=selectedOption.value
    
    datasend={"letra":letra,}
    $.ajax({
        type:'GET',
        url: '{% url 'view_getAsunto' %}',
        data: datasend,
        //data:$(this).serialize(),
        success: function (request){
            select_asunto = document.getElementById('asunto_id')
            clearSelect(select_asunto)

            select_asunto.appendChild( createOptionSelect("") )

            for (let i = 0; i < request.vec_asunto.length; i++) {
              valor = request.vec_asunto[i]
              select_asunto.appendChild( createOptionSelect(valor) )
            }
            
        }
    });
  }
  function clearSelect(select){
    for (let i = select.options.length; i >= 0; i--) {
      select.remove(i);
    }
  }
  function createOptionSelect(valor){
    option=document.createElement('option');
    option.value=valor;
    option.text=valor;
    return option
  }
</script>

<script>
  function getEstadoAsunto(){
    select = document.getElementById('asunto_id')
    selectedOption = select.options[select.selectedIndex];
    asunto = selectedOption.value
    
    datasend={"asunto":asunto,}
    $.ajax({
        type:'GET',
        url: '{% url 'view_getEstadoAsunto' %}',
        data: datasend,
        //data:$(this).serialize(),
        success: function (request){
            select_estado_asunto = document.getElementById('estado_asunto_id')
            clearSelect(select_estado_asunto)

            select_estado_asunto.appendChild( createOptionSelect('') )

            //Recogemos Descripcion_asunto | fraseologia_pib
            document.getElementById("cuerpo_notam_nuevo").value = request.asunto_fraseologia;
            document.getElementById("pib_notam_nuevo").innerHTML = request.asunto_espaniol;
            

            for (let i = 0; i < request.vec_estado_asunto.length; i++) {
              valor = request.vec_estado_asunto[i]
              select_estado_asunto.appendChild( createOptionSelect(valor) )
            }
        }
    });
  }
</script>


<script>
  function printForm(){
			var printContents = document.getElementById("FORM_NOTAM").innerHTML;
			var originalContents = document.body.innerHTML;

			document.body.innerHTML = printContents;

			window.print();

			document.body.innerHTML = originalContents;

  }
</script>


<script>
  Vue.component('my-button', {
    template: '\
      <button class="normal"\
        :class="type"\
        :disabled="disabled"\
        @click="callback($event)"\
        >\
          <slot></slot>\
      </button>\
    ',
    props: {
      type: String,
      disabled: Boolean
    },
    methods: {
      callback: function(e) {
        this.$emit('click', e);
      }
    }
  });
/*
  new Vue({
      el: '#app2',
      delimiters: ['[[', ']]'],
      data: {
        // -------------- 8400 -----------------
        titulo_letra: "Titulo de la letra",
        acronimo_letra: "",
        buscarCadena8126: '',
        
        respuesta:'',
        
        columns_asunto: ['Asunto', 'Descripción','Fraseología'],
        columns_estado: ['Estado de asunto', 'Descripción','Fraseología'],
        
        asuntos: [],
        estados_asunto: [],
        // -------------- 8400 -----------------
        
      },
      computed: {
        filtro_asunto_inicial: function () {
          var self = this;
          self.buscarCadena8126=self.buscarCadena8126.toUpperCase();
          variable=self.asuntos.filter(function (user) {
            return user.id_asunto.indexOf(self.buscarCadena8126) !== -1;
          })
          if(variable.length>0){
            return variable 
          }
        },
        filtro_estado_asunto_inicial: function () {
          var self = this;
          self.buscarCadena8126=self.buscarCadena8126.toUpperCase();
          variable=self.estados_asunto.filter(function (user) {
            return user.id_estado_asunto.indexOf(self.buscarCadena8126) !== -1;
          })
          if(variable.length>0){
            return variable 
          }
        },
      },
      methods: {
        filtro_estado_asunto: function () {
          //SE ACTIVA CUANDO SE PRESIONA LA TECLA ENTER
          var self = this;
          variable=self.asuntos.filter(function (user) {
            return user.id_asunto.indexOf(self.buscarCadena8126) !== -1;
          })
          if(variable.length>0){
            return variable 
          }else{
            if(this.buscarCadena8126.length > 0 && this.buscarCadena8126.length < 3){
              this.buscando_8126(this.buscarCadena8126)
            }
          }
        },

        buscando_8126: function (parametro) {
          (async() => {
            //alert("INTENTANDO EN LA bd")

            await this.getResponse8126(parametro)
            
            if(this.asuntos.length >0 || this.estados_asunto.length >0 ){
              this.respuesta='';
              this.buscarCadena8126="";
            }else{
              this.respuesta="No se encontraron resultados.";
            }
          })();
        },

        getResponse8126: async function(parametro){
          parametro = parametro.toUpperCase();
          const url = '{% url 'view_get_codigo8126' %}' + "?string8126="+parametro
          await axios.get(url).then(response => {this.titulo_letra=response.data.titulo_letra; this.acronimo_letra=response.data.acronimo_letra ; this.asuntos = (response.data.asuntos); this.estados_asunto = (response.data.estados_asuntos)}).catch(function (error) { console.log(error); });
          console.log(this.asuntos)
          console.log(this.estados_asunto)
          //titulo_letra
        },
      }
    }
  );  */
</script>

<script src="https://unpkg.com/vue-toasted"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://unpkg.com/sweetalert@2.1.0/dist/sweetalert.min.js"></script>


<!-- ////////////////////////////////////////////////////////////////////////////-->
<script src="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js"></script>


<script>
  Vue.config.productionTip = false;
  Vue.config.devtools = false;

  app_vue = new Vue({
    el: "#appNewnotam",
    delimiters: ['[[', ']]'],
    data: {
        form: {
          //formName: "Tell Us About Yourself",
          //userName: "",
          //favoriteColor: "Red",
          //favoriteHamburger: "",
          //favoriteHangout: [],
          //workHours: 0,
          //arrayColors: [
          //  'Red', 
          //  'Blue', 
          //  'Green'
          //],

          model_destino_notam_charly:"",
          model_destino_notam_alfa:"",

          //------------------------------------------------------------------------------------------------------------------------------------
          model_prioridad:"GG",
          prioridad: ['GG','FF','KK','SS','AA'],
          fecha_deposito: new Date().toISOString().slice(0,10),
          hora_deposito: new Date().toISOString().slice(11,16).replace(':',''),
          remitente:"SLLPYNYX",
          //------------------------------------------------------------------------------------------------------------------------------------
          
          model_tiponotam:'',
          tiponotam: ['NOTAMN','NOTAMR','NOTAMC'],


          model_titulo_asunto:"Titulo del asunto",
          titulo_asunto:[
            {
              letra:"",
              descripcion:""
            }
          ],

          model_asunto:"Asunto",
          asunto:[
            {
              id_asunto:"",
              descripcion_asunto:"",
              fraseologia_asunto:""
            }
          ],

          model_estado_asunto:"Estado de asunto",
          estado_asunto:[
            {
              id_estado_asunto:"",
              descripcion_estado:"",
              fraseologia_estado:"",
            }
          ],

          model_tipo:"IV",
          tipo:[
            'IV',
            'I',
            'V',
            'K'
          ],

          model_nbo:"NBO",
          nbo:['NBO','N','B','O','M','K'],
          
          model_alcance:"A",
          alcance:['A','E','W','K','AE'],
          
          nivel_inf:'000',
          nivel_sup:'999',

          model_coordenadas:"Seleccione un lugar",
          coordenadas:["SLLP SLLF 1630S06811W","SLLP VOR 1630S06811W", "SLPS ARP 1858S05749W", "SLCB VOR 1725S06610W","SLAP ARP 1144S06824W"],
          radio:'005',
          //------------------------------------------------------------------------------------------------------------------------------------
          correlativo_charly:"",
          correlativo_alfa:"",
          lugar:"",
          desde_fecha:new Date().toISOString().slice(0,10),
          desde_hora:new Date().toISOString().slice(11,16).replace(':',''),
          hasta_fecha:"",
          hasta_hora:"",
          estimado:[""],
          permanente:[""],
          casilla_d: "",
          
          cuerpo1: "",
          cuerpo2: "",

          cuerpo_charly:"",
          cuerpo_alfa:"",

          limite_inferior: "",
          limite_superior: "",

          model_antecedente_notam:"",

          pib_asunto:"",
          pib_estado_asunto:"",

        },

        showSubmitFeedback: false, 

        data_srv: {
          tipo:"",
          notam_header:"",
          destino_notam:"",
          amhs1:"",
          amhs2:"",
          resumen:"",
          aplica_a:"",
          valido_desde:"",
          valido_hasta:"",
          mensaje:"",

          mensaje_charly:"",
          mensaje_alfa:"",

          asunto:"",
          estado_asunto:"",
          pib_publicar:"",
          estimado_srv:"",
          permanente_srv:"",
          antecedente_notam:"",
        }
    },
    
    //created(){},
    methods: {
      fakeSubmit() {
          this.showSubmitFeedback = true;
          setTimeout(() => {
              this.showSubmitFeedback = false;
          }, 3000);
      },
      //-----------------------------------------------------------------------------------
      buscar_correlativo_charly: function() {
        (async() => {
              //alert("INTENTANDO EN LA bd")
              await this.get_correlativo_charlie()
        })();
      },
      get_correlativo_charlie: async function(){
        const url = '{% url 'view_get_correlativo_charly' %}';
        await axios.get(url).then(response => {
          this.form.correlativo_charly=response.data.correlativo;
        }
        ).catch(
          function (error) { 
            console.log(error); 
          }
        );
      },
      //-----------------------------------------------------------------------------------



      
      /////////////////////////////////////////////////////////////////////////////////////////
      buscar_notam_pasado_charly: function() {
        if (this.form.model_destino_notam_charly.length >0 && valid_charly_format.test(this.form.model_destino_notam_charly) ){
            isConfirm=false;
            swal({
              title: "¿Donde quiere recuperar NOTAM?",
              text: "¡Si continuas no serás capaz de recordar nada!",
              icon: "info",
              buttons: [
                'AFTN/AMHS',
                'BANCO DATOS NOF'
              ],
            }).then(
              function(isConfirm){
                if (isConfirm) {
                  swal({
                    icon:"success",
                    title: "BANCO DATOS NOF",
                    text: "Transfiriendo datos... ",
                    timer: 3000,
                  });
                  (async() => {
                        await app_vue.get_data_notam_antiguo_charly()
                  })();
                } else {
                  swal({
                    icon:"success",
                    title: "AMHS",
                    text: "Transfiriendo datos... ",
                    timer: 3000,
                  });
                }
              }
            );

        }else{
          swal({
            icon:"warning",
            title: "Advertencia",
            text: "Verifique el correlativo NOTAM",
            timer: 1500,
          });
        }
      },

      saluda: function(){
        alert("hola mundo")
      },

      get_data_notam_antiguo_charly: async function(){

        this.form.model_destino_notam_charly = this.form.model_destino_notam_charly.toUpperCase();

        if (this.form.correlativo_charly.length == 0) {
           this.buscar_correlativo_charly.apply() 
        }

        const url = '{% url 'view_api_redirect_notam' %}'+"?codigo_notam="+this.form.model_destino_notam_charly;
        
        await axios.get(url).then(response => {
          //this.form.???=response.data;
          //alert(response.data.model_tiponotam);
          //this.form.model_tiponotam = response.data.model_tiponotam;
          this.form.model_titulo_asunto = response.data.model_titulo_asunto;
          
          this.form.asunto = [ {'descripcion_asunto': "", 'fraseologia_asunto':'','id_asunto':response.data.model_asunto} ] ;
          this.form.model_asunto = response.data.model_asunto;

          this.form.estado_asunto = [ { 'descripcion_estado':'', 'fraseologia_estado': '', 'id_estado_asunto':response.data.model_estado_asunto } ] ;
          this.form.model_estado_asunto = response.data.model_estado_asunto;

          this.form.model_tipo = response.data.model_tipo;
          this.form.model_nbo = response.data.model_nbo;
          this.form.model_alcance = response.data.model_alcance;
          this.form.nivel_inf = response.data.nivel_inf;
          this.form.nivel_sup = response.data.nivel_sup;
          this.form.model_coordenadas = response.data.model_coordenadas;
          this.form.radio = response.data.radio;
          this.form.lugar = response.data.lugar;
          this.form.desde_fecha = response.data.desde_fecha;
          this.form.desde_hora = response.data.desde_hora;
          this.form.hasta_fecha = response.data.hasta_fecha;
          this.form.hasta_hora = response.data.hasta_hora;
          this.form.estimado = response.data.estimado;
          this.form.permanente = response.data.permanente;
          this.form.pib_asunto = response.data.pib_asunto;
          this.form.pib_estado_asunto = response.data.pib_estado_asunto;
          this.form.casilla_d = response.data.casilla_d;
          this.form.cuerpo2 = response.data.cuerpo2;
        }
        ).catch(
          function (error) { 
            console.log(error); 
          }
        );
      },
      /////////////////////////////////////////////////////////////////////////////////////////


      buscar_correlativo_alfa: function() {
        (async() => {
              //alert("INTENTANDO EN LA bd")
              await this.get_correlativo_alpha()
        })();
      },
      get_correlativo_alpha: async function(){
        const url = '{% url 'view_get_correlativo_alfa' %}';
        await axios.get(url).then(response => {
          this.form.correlativo_alfa=response.data.correlativo;
        }
        ).catch(
          function (error) { 
            console.log(error); 
          }
        );
      },
      actualizar_casilla_a: function (event) {
        cadena=event.target.value;
        this.form.lugar=cadena.split(' ')[0];

        coordenadas_lugar=cadena.split(" ")[2];
        coordenadas_lugar=coordenadas_lugar.split("S")

        //CREAR EL MAPA 
        mapboxgl.accessToken = 'pk.eyJ1IjoiY2FlbHQiLCJhIjoiY2tmNGx4MDY3MDBnNTJ5cDh2aHhjOTQyciJ9.juIQGQyyJdwT0cIfnbFA3Q';
        
        latitude=coordenadas_lugar[0]  + "S";
        latitude= latitude.substr(0,2) + " " + latitude.substr(2, latitude.length);
        
        longitude=coordenadas_lugar[1];
        longitude= longitude.substr(0,3) + " " + longitude.substr(3, longitude.length);

        //alert(latitude, longitude)
        //radius = parseInt(this.radio);
        radius = parseInt(this.form.radio);
        
        if (radius ==0 || radius==999) {
            radius=0;
        }else{
            radius=1852*radius;
        }
        var vector_posicion = this.parse_gps(longitude +" "+latitude);

        longitude=vector_posicion[1];
        latitude=vector_posicion[0];
        
        var map = new mapboxgl.Map({
          container: 'map',
          //style: 'mapbox://styles/mapbox/streets-v11',
          style: 'mapbox://styles/caelt/ckgljytdo02dj19pnnzqpr7sc',
          center: [longitude, latitude],
          zoom: 10,
          minZoom: 7,
          maxZoom: 15,
        });
        map.on('load', function() {
          map.addSource("source_circle_500", {
            "type": "geojson",
            "data": {
              "type": "FeatureCollection",
              "features": [{
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [longitude, latitude]
                }
              }]
            }
          });
          map.addLayer({
            "id": "circle500",
            "type": "circle",
            "source": "source_circle_500",
            "paint": {
              "circle-radius": {
                  stops: [
                    [0, 0],
                    [20, metersToPixelsAtMaxZoom(radius,latitude)]
                  ],
                  base: 2
              },
              "circle-color": "#FA8258",
              "circle-opacity": 0.2
            }
          });
        });
        //FIN CREAR MAPA
      },

      

      // ***************************************//
      borrar_casilla_c: function(){
        //alert(this.form.permanente.length)
        if (this.form.permanente.length==2) {
          this.form.hasta_hora="";
          this.form.hasta_fecha="";
        }
      },
      // ************************************** //

      // ************* VALIDAR FORMULARIO ************* //
      isNumber: function(evt) {
        evt = (evt) ? evt : window.event;
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if ((charCode > 31 && (charCode < 48 || charCode > 57)) && charCode !== 46) {
          evt.preventDefault();
        } else {
          id='#'+String(evt.target.id);

          switch (String(evt.target.id)) {
            case 'id_nivel_inf':
              valid=/^[0-9]{3}?$/;
              if (valid.test(app_vue.form.nivel_inf)) {
                document.querySelector(id).style.borderColor="green";  
              }else{
                document.querySelector(id).style.borderColor="red";  
              }
              break;
            

            case 'id_nivel_sup':
              valid=/^[0-9]{3}?$/;
              if (valid.test(app_vue.form.nivel_sup)) {
                document.querySelector(id).style.borderColor="green";  
              }else{
                document.querySelector(id).style.borderColor="red";  
              }
            break;

            case 'id_radio':
              valid=/^[0-9]{3}?$/;
              if (valid.test(app_vue.form.radio)) {
                document.querySelector(id).style.borderColor="green";  
              }else{
                document.querySelector(id).style.borderColor="red";  
              }
            break;

            case 'id_hora_desde':
              valid=/^(0[0-9]|1[0-9]|2[0-3])[0-5][0-9]$/;
              if (valid.test(app_vue.form.desde_hora)) {
                document.querySelector(id).style.borderColor="green";  
              }else{
                document.querySelector(id).style.borderColor="red";  
              }
            break;

            case 'id_hora_hasta':
              valid=/^(0[0-9]|1[0-9]|2[0-3])[0-5][0-9]$/;
              if (valid.test(app_vue.form.hasta_hora)) {
                document.querySelector(id).style.borderColor="green";  
              }else{
                document.querySelector(id).style.borderColor="red";  
              }
            break;

            default:
              break;
          }
          return true;
        }



      },
      
      // ************* VALIDAR FORMULARIO ************* //
      




      validar_antecedente: function(evt){
        id='#'+String(evt.target.id);
        if (app_vue.form.model_antecedente_notam == 'NIL' || app_vue.form.model_antecedente_notam.length > 15  ) {
          //sw_formato_charly=true;
          document.querySelector(id).style.borderColor="green";
        }else{
          document.querySelector(id).style.borderColor="red";
        }
      },


      // ************* VALIDAR CORRELATIVO CHARLY ORIGEN ******************//
      validar_id_charly_origen: function(evt){
        correlativo=app_vue.form.correlativo_charly;
          id='#'+String(evt.target.id);
          if (valid_charly_format.test(correlativo) || correlativo=="" ) {
            //sw_formato_charly=true;
            document.querySelector(id).style.borderColor="green";
          }else{
            document.querySelector(id).style.borderColor="red";
          }
      },
      // ************* VALIDAR CORRELATIVO CHARLY ORIGEN ******************//


      // ************* VALIDAR CORRELATIVO CHARLY DESTINO ******************//
      validar_id_charly_destino: function(evt){
        if ( app_vue.form.model_tiponotam=="NOTAMR" || app_vue.form.model_tiponotam=="NOTAMC" ) {
          correlativo=app_vue.form.model_destino_notam_charly;
            id='#'+String(evt.target.id);
            if (valid_charly_format.test(correlativo) && correlativo!="" ) {
              //sw_formato_charly=true;
              document.querySelector(id).style.borderColor="green";
            }else{
              document.querySelector(id).style.borderColor="red";
            }
        }
      },
      // ************* VALIDAR CORRELATIVO CHARLY DESTINO ******************//




      // ************* VALIDAR CORRELATIVO ALFA ORIGEN ******************//
      validar_id_alfa_origen: function(evt){
        correlativo=app_vue.form.correlativo_alfa;
          id='#'+String(evt.target.id);
          if (valid_alfa_format.test(correlativo) || correlativo=="" ) {
            //sw_formato_charly=true;
            document.querySelector(id).style.borderColor="green";
          }else{
            document.querySelector(id).style.borderColor="red";
          }
      },
      // ************* VALIDAR CORRELATIVO ALFA ORIGEN ******************//


      // ************* VALIDAR CORRELATIVO ALFA DESTINO ******************//
      validar_id_alfa_destino: function(evt){
        if ( app_vue.form.model_tiponotam=="NOTAMR" || app_vue.form.model_tiponotam=="NOTAMC" ) {
          correlativo=app_vue.form.model_destino_notam_alfa;
            id='#'+String(evt.target.id);
            if (valid_alfa_format.test(correlativo) && correlativo!="" ) {
              //sw_formato_charly=true;
              document.querySelector(id).style.borderColor="green";
            }else{
              document.querySelector(id).style.borderColor="red";
            }
        }
      },
      // ************* VALIDAR CORRELATIVO ALFA DESTINO ******************//
      









      


      //FUNCIONES PARA CREAR MAPA

      //LAT': '1725S', 'LONG': '06610W'
      parse_gps: function ( input ) {

        if( input.indexOf( 'N' ) == -1 && input.indexOf( 'S' ) == -1 &&
            input.indexOf( 'W' ) == -1 && input.indexOf( 'E' ) == -1 ) {
            return input.split(',');
        }

        var parts = input.split(/[°'"]+/).join(' ').split(/[^\w\S]+/);

        var directions = [];
        var coords = [];
        var dd = 0;
        var pow = 0;

        for( i in parts ) {
            // we end on a direction
            if( isNaN( parts[i] ) ) {
            
                var _float = parseFloat( parts[i] );
            
                var direction = parts[i];
            
                if( !isNaN(_float ) ) {
                    dd += ( _float / Math.pow( 60, pow++ ) );
                    direction = parts[i].replace( _float, '' );
                }
              
                direction = direction[0];
              
                if( direction == 'S' || direction == 'W' )
                    dd *= -1;
              
                directions[ directions.length ] = direction;
              
                coords[ coords.length ] = dd;
                dd = pow = 0;
              
            } else {
            
                dd += ( parseFloat(parts[i]) / Math.pow( 60, pow++ ) );
            
            }
          
        }

        if( directions[0] == 'W' || directions[0] == 'E' ) {
            var tmp = coords[0];
            coords[0] = coords[1];
            coords[1] = tmp;
        }

        return coords;
      },

      //FIN FUNCIONES PARA CREAR MAPA
      
      copy_clipboard: function (id_code) {

        var elm = document.getElementById(id_code);
        // other browsers
        var range = document.createRange();
        range.selectNodeContents(elm);
        var selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        document.execCommand("Copy");
        
        this.showToast2()
        

      },
      showToast2() {
        Vue.use(Toasted);
        Vue.toasted.show('Copiado!', {
          duration: 2000
        });
      },
      buscar_lista_asuntos(event) {
        this.form.estado_asunto=[
          {
            id_estado_asunto:"",
            descripcion_estado:"",
            fraseologia_estado:"",
          }
        ];


        /*
        ACTIVAR UNA FUNCION PIDIENDO LISTA DE ASUNTOS
        */
        (async() => {
              //alert("INTENTANDO EN LA bd")
              await this.getResponse_asuntos8126(event.target.value)
        })();
      },
      getResponse_asuntos8126: async function(parametro){
        parametro = parametro.toUpperCase();
        const url = '{% url 'view_get_lista_asuntos_8126' %}' + "?string8126="+parametro;
        
        await axios.get(url).then(response => {
            this.form.asunto = response.data.lista_asuntos; 
          }
        ).catch(
          function (error) { 
            console.log(error); 
          }
        );
      },
      buscar_lista_estado_asuntos(event) {
        
        vector_descripcion_fraseologia =this.buscar_descripcion_dentro_asunto(event.target.value).split('/');

        this.form.pib_asunto= vector_descripcion_fraseologia[0];
        this.form.cuerpo_charly = vector_descripcion_fraseologia[1];
        
        /*
        ACTIVAR UNA FUNCION PIDIENDO LISTA DE ESTADOS ASUNTOS
        */
        (async() => {
              //alert("INTENTANDO EN LA bd")
              await this.getResponse_estados8126(event.target.value)
        })();
      },
      getResponse_estados8126: async function(parametro){
        parametro = parametro.toUpperCase();
        const url = '{% url 'view_get_lista_estados_8126' %}' + "?string8126="+parametro;
        
        await axios.get(url).then(response => {
            this.form.estado_asunto = response.data.lista_estados; 
          }
        ).catch(
          function (error) { 
            console.log(error); 
          }
        );
      },
      buscar_descripcion_dentro_asunto(cod_asunto) {
        for (let i = 0; i < this.form.asunto.length; i++) {
          if (this.form.asunto[i].id_asunto==cod_asunto){
            return this.form.asunto[i].descripcion_asunto + "/" + this.form.asunto[i].fraseologia_asunto ;
          }
        }
        return "No encontrado"
      },
      asignar_estado_asunto_pib(event) {
        cod_estado=event.target.value.trim();
        
        vector_descripcion_fraseologia =this.buscar_descripcion_estado_asunto(cod_estado).split('/');

        this.form.pib_estado_asunto= vector_descripcion_fraseologia[0];
        this.form.cuerpo_charly= vector_descripcion_fraseologia[1]+ " "+ vector_descripcion_fraseologia[1];
      },
      buscar_descripcion_estado_asunto(cod_estado){

        for (let i = 0; i < this.form.estado_asunto.length; i++) {
          //alert(this.form.estado_asunto[i].id_estado_asunto)
          if (this.form.estado_asunto[i].id_estado_asunto.toUpperCase() === cod_estado.toUpperCase()){
            return this.form.estado_asunto[i].descripcion_estado + '/' + this.form.estado_asunto[i].fraseologia_estado;
          }
        }
        return "No encontrado"
      },

      guardar_notam: function() {

        this.data_srv.tipo=this.form.model_tiponotam

        this.data_srv.notam_header=this.form.correlativo_charly + '+' + this.form.correlativo_alfa;
        
        if (this.form.model_tiponotam == 'NOTAMN') {
          this.data_srv.destino_notam = "";
        }else{
          this.data_srv.destino_notam = this.form.model_destino_notam_charly+ '+' +this.form.model_destino_notam_alfa ;
        }

        


        this.data_srv.amhs1=this.form.model_prioridad;
        this.data_srv.amhs2=this.form.fecha_deposito.substring(8,)+""+this.form.hora_deposito+" "+this.form.remitente;
        
      
        
        this.data_srv.resumen="Q) SLLF/Q"+this.form.model_asunto+this.form.model_estado_asunto+"/"+this.form.model_tipo+"/"+this.form.model_nbo+"/"+this.form.model_alcance+"/"+this.form.nivel_inf+"/"+this.form.nivel_sup+"/"+this.form.model_coordenadas.split(" ")[2]+this.form.radio;
        this.data_srv.aplica_a="A) " + this.form.lugar ;
        this.data_srv.valido_desde="B) "+this.form.desde_fecha.substring(2,).replace("-","").replace("-","")+this.form.desde_hora ;
        
        if (this.form.permanente[this.form.permanente.length -1]) {
          this.data_srv.valido_hasta="C) "+'PERM';
        }else{
          if (this.form.estimado[this.form.estimado.length -1]) {
            this.data_srv.valido_hasta="C) "+this.form.hasta_fecha.substring(2,).replace("-","").replace("-","")+this.form.hasta_hora +" "+ this.form.estimado[this.form.estimado.length -1];
          }else{
            this.data_srv.valido_hasta="C) "+this.form.hasta_fecha.substring(2,).replace("-","").replace("-","")+this.form.hasta_hora
          }
        }
        

        
        
        this.data_srv.mensaje="";
        sw=false;
        if (this.form.casilla_d) {
          this.data_srv.mensaje_charly= "D) "+this.form.casilla_d +" E) "+this.form.cuerpo_charly;
          this.data_srv.mensaje_alfa= "D) "+this.form.casilla_d +" E) "+this.form.cuerpo_alfa;
          sw=true;
        }
        if (this.form.limite_inferior) {
          this.data_srv.mensaje_charly = this.data_srv.mensaje_charly +"F) "+this.form.limite_inferior +"G) "+this.form.limite_superior;
          this.data_srv.mensaje_alfa = this.data_srv.mensaje_alfa +"F) "+this.form.limite_inferior +"G) "+this.form.limite_superior;
          swalfa
        }
        if (!sw) {
          this.data_srv.mensaje_charly="E) "+this.form.cuerpo_charly;
          this.data_srv.mensaje_alfa="E) "+this.form.cuerpo_alfa;
        }

        this.data_srv.asunto=this.form.pib_asunto;
        this.data_srv.estado_asunto=this.form.pib_estado_asunto;

        this.data_srv.estado_asunto=this.form.pib_estado_asunto;
        this.data_srv.estado_asunto=this.form.pib_estado_asunto;

        this.data_srv.estimado_srv=this.form.estimado[this.form.estimado.length -1];
        this.data_srv.permanente_srv=this.form.permanente[this.form.permanente.length -1];

        this.data_srv.antecedente_notam = this.form.model_antecedente_notam;


        try {
          this.data_srv.pib_publicar = document.getElementById("pib_publicar").textContent;
        } catch (error) {
          this.data_srv.pib_publicar = "";
        }
      },
    
      obtener_codigo_charly_amhs: function() {
        try {
          amhs_charly = document.getElementById('copy-notam-charly').textContent;
        } catch (error) {
          amhs_charly = "";
        }
        return amhs_charly;
      }, 
      obtener_codigo_alfa_amhs: function() {
        try {
          amhs_alfa = document.getElementById('copy-notam-alfa').textContent;
        } catch (error) {
          amhs_alfa = "";
        }
        return amhs_alfa;

      }
    },
  
  }); 

  function  metersToPixelsAtMaxZoom(meters, latitude) {
        return (meters / 0.075 / Math.cos(latitude * Math.PI / 180));
      }
</script>

<script>
    const form = document.querySelector('#data_srv_id')

    form.addEventListener('submit', event => {

      event.preventDefault();
      // ********** INICIO DE LA VALIDACION 
      sw_srv_to_send=true;

      // ************* VALIDAR ANTECEDENTE 
      sw_antecedente=false;

      if (app_vue.form.model_antecedente_notam.length>15 || app_vue.form.model_antecedente_notam=="NIL" ) {
        sw_antecedente=true;
        document.querySelector('#id_antecedente_notam').style.borderColor="";
      }else{
        document.querySelector('#id_antecedente_notam').style.borderColor="red";
        document.querySelector('#id_antecedente_notam').scrollIntoView({block:"center",behavior:"smooth"});
        sw_srv_to_send=false;
      }

      // ************* VALIDAR CHARLY ORIGEN Y ALFA ORIGEN DISTINTO DE VACIO 
      sw_vacio_charly_origen=false;
      sw_vacio_alfa_origen=false;
      
      sw_formato_charly=false;
      sw_formato_alfa=false;

      if (app_vue.form.correlativo_charly.length>0 ) {
        // ************* VALIDAR CHARLY ORIGEN
        if (valid_charly_format.test(app_vue.form.correlativo_charly) ) {
          sw_formato_charly=true;
          document.querySelector('#id_charly_origen').style.borderColor="";
        }else{
          document.querySelector('#id_charly_origen').style.borderColor="red";
          document.querySelector('#id_charly_origen').scrollIntoView({block:"center",behavior:"smooth"});
          sw_srv_to_send=false;
        }
      }else{sw_vacio_charly_origen=true;}

      if( app_vue.form.correlativo_alfa.length > 0){
        
        // ************* VALIDAR ALFA ORIGEN
        if (valid_alfa_format.test(app_vue.form.correlativo_alfa) ) {
          sw_formato_alfa=true;
          document.querySelector('#id_alfa_origen').style.borderColor="";
        }else{
          document.querySelector('#id_alfa_origen').style.borderColor="red";
          document.querySelector('#id_alfa_origen').scrollIntoView({block:"center",behavior:"smooth"});
          sw_srv_to_send=false;
        }
        
      }else{sw_vacio_alfa_origen=true;}     
      
      // ************* VALIDAR CHARLY ORIGEN Y ALFA ORIGEN DISTINTO DE VACIO       
      if (sw_vacio_charly_origen && sw_vacio_alfa_origen) {
        if (sw_antecedente) {
          document.querySelector('#id_charly_origen').style.borderColor="red";
          document.querySelector('#id_charly_origen').scrollIntoView({block:"center",behavior:"smooth"});
          
          document.querySelector('#id_alfa_origen').style.borderColor="red";
          document.querySelector('#id_alfa_origen').scrollIntoView({block:"center",behavior:"smooth"});
          sw_srv_to_send=false;
          alert("Debe existir correlativo NOTAM")
        }
      }





      // ************* SI ES NOTAMC O NOTAMR >> VALIDAR NTOAM DESTINO
      sw_vacio_charly_destino=true;
      sw_vacio_alfa_destino=true;
      
      sw_formato_charly_destino=false;
      sw_formato_alfa_destino=false;
      
      if(app_vue.form.model_tiponotam=="NOTAMC" || app_vue.form.model_tiponotam=="NOTAMR"){

        if (app_vue.form.model_destino_notam_charly.length>0 ) {
          sw_vacio_charly_destino=false;
          // ************* VALIDAR CHARLY DESTINO
          if (valid_charly_format.test(app_vue.form.model_destino_notam_charly) ) {
            sw_formato_charly_destino=true;
            document.querySelector('#id_charly_destino').style.borderColor="";
          }else{
            document.querySelector('#id_charly_destino').style.borderColor="red";
            document.querySelector('#id_charly_destino').scrollIntoView({block:"center",behavior:"smooth"});
            sw_srv_to_send=false;
          }
        }

        if (app_vue.form.model_destino_notam_alfa.length>0 ) {
          sw_vacio_alfa_destino=false;

          // ************* VALIDAR ALFA DESTINO
          if (valid_alfa_format.test(app_vue.form.model_destino_notam_charly) ) {
            sw_formato_alfa_destino=true;
            document.querySelector('#id_alfa_destino').style.borderColor="";
          }else{
            document.querySelector('#id_alfa_destino').style.borderColor="red";
            document.querySelector('#id_alfa_destino').scrollIntoView({block:"center",behavior:"smooth"});
            sw_srv_to_send=false;
          }
        }

      // ************* VALIDAR CHARLY ORIGEN Y ALFA ORIGEN DISTINTO DE VACIO       

          if(!sw_vacio_charly_origen){
            if(sw_vacio_charly_destino){
              document.querySelector('#id_charly_destino').style.borderColor="red";
              document.querySelector('#id_charly_destino').scrollIntoView({block:"center",behavior:"smooth"});
              sw_srv_to_send=false;
            }else{
              document.querySelector('#id_charly_destino').style.borderColor="";
            }
          }

          if(!sw_vacio_alfa_origen){
            if(sw_vacio_alfa_destino){
              document.querySelector('#id_alfa_destino').style.borderColor="red";
              document.querySelector('#id_alfa_destino').scrollIntoView({block:"center",behavior:"smooth"});
              sw_srv_to_send=false;
            }else{
              document.querySelector('#id_alfa_destino').style.borderColor="";
            }
          }

          if (sw_vacio_charly_destino && sw_vacio_alfa_destino) {
              document.querySelector('#id_charly_destino').style.borderColor="red";
              document.querySelector('#id_charly_destino').scrollIntoView({block:"center",behavior:"smooth"});
              
              document.querySelector('#id_alfa_destino').style.borderColor="red";
              document.querySelector('#id_alfa_destino').scrollIntoView({block:"center",behavior:"smooth"});
              sw_srv_to_send=false;
          }

          if( (sw_vacio_alfa_origen && sw_vacio_alfa_destino) && (sw_vacio_charly_origen && sw_vacio_charly_destino) ){
            document.querySelector('#id_charly_origen').style.borderColor="red";
            document.querySelector('#id_charly_origen').scrollIntoView({block:"center",behavior:"smooth"});
            
            document.querySelector('#id_alfa_origen').style.borderColor="red";
            document.querySelector('#id_alfa_origen').scrollIntoView({block:"center",behavior:"smooth"});


            document.querySelector('#id_charly_destino').style.borderColor="red";
            document.querySelector('#id_charly_destino').scrollIntoView({block:"center",behavior:"smooth"});
            
            document.querySelector('#id_alfa_destino').style.borderColor="red";
            document.querySelector('#id_alfa_destino').scrollIntoView({block:"center",behavior:"smooth"});

            sw_srv_to_send=false;
          }else{
            if( (sw_vacio_alfa_origen && sw_vacio_alfa_destino) || (sw_vacio_charly_origen && sw_vacio_charly_destino) ){
              document.querySelector('#id_alfa_destino').style.borderColor="";
              document.querySelector('#id_charly_destino').style.borderColor="";
              document.querySelector('#id_alfa_origen').style.borderColor="";
              document.querySelector('#id_charly_origen').style.borderColor="";
              sw_srv_to_send=true;
            }
          }

      }

      // ************* VALIDAR CODIGO Q

      if(app_vue.form.model_titulo_asunto=="Titulo del asunto"){
        sw_srv_to_send=false;
        document.querySelector('#id_select_titulo_asunto').style.borderColor="red";
        document.querySelector('#id_select_titulo_asunto').scrollIntoView({block:"center",behavior:"smooth"});
      }else{
        document.querySelector('#id_select_titulo_asunto').style.borderColor="";
      }
      
      if(app_vue.form.model_asunto=='Asunto'){
        sw_srv_to_send=false;
        document.querySelector('#id_select_asunto').style.borderColor="red";
        document.querySelector('#id_select_asunto').scrollIntoView({block:"center",behavior:"smooth"});
      }else{
        document.querySelector('#id_select_asunto').style.borderColor="";
      }

      if(app_vue.form.model_estado_asunto=="Estado de asunto"){
        sw_srv_to_send=false;
        document.querySelector('#id_select_estado_asunto').style.borderColor="red";
        document.querySelector('#id_select_estado_asunto').scrollIntoView({block:"center",behavior:"smooth"});
      }else{
        document.querySelector('#id_select_estado_asunto').style.borderColor="";
      }
      
      
      // ************* VALIDAR LUGAR
      // ************* VALIDAR A) 
      if(app_vue.form.lugar==""){
        sw_srv_to_send=false;
        document.querySelector('#id_select_lugar').style.borderColor="red";
        document.querySelector('#id_select_lugar').scrollIntoView({block:"center",behavior:"smooth"});

        document.querySelector('#id_lugar').style.borderColor="red";
        document.querySelector('#id_lugar').scrollIntoView({block:"center",behavior:"smooth"});
      }else{
        document.querySelector('#id_select_lugar').style.borderColor="";
        document.querySelector('#id_lugar').style.borderColor="";
      }

      // ************* VALIDAR B) 
      if(!valid_time_24.test(app_vue.form.desde_hora)){
        document.querySelector('#id_hora_desde').style.borderColor="red";
        document.querySelector('#id_hora_desde').scrollIntoView({block:"center",behavior:"smooth"});
        sw_srv_to_send=false;
      }else{
        document.querySelector('#id_hora_desde').style.borderColor="";
      }

      // ************* VALIDAR C)
      if(!valid_time_24.test(app_vue.form.hasta_hora)){
        document.querySelector('#id_hora_hasta').style.borderColor="red";
        document.querySelector('#id_hora_hasta').scrollIntoView({block:"center",behavior:"smooth"});
        sw_srv_to_send=false;
      }else{
        document.querySelector('#id_hora_hasta').style.borderColor="";
      }


      // ************* VALIDAR SI CHARLY ORIGEN ES DISTINTO DE VACIO => INSTALACION Y ESTADO DEE SER DISTINOTO DE VACIO

      // ************* VALIDAR CHARLY O ALFA DEBE ESTAR LLENO

      if(sw_srv_to_send){
        swal('¿ Guardar en banco NOTAM ?' , {
            buttons: true,
        }).then( val => {
          if (val ) {
            app_vue.guardar_notam()
            form.submit();
          }
        });
      }



      
    }
  )
</script>



<script>
  /*
  mapboxgl.accessToken = 'pk.eyJ1IjoiY2FlbHQiLCJhIjoiY2tmNGx4MDY3MDBnNTJ5cDh2aHhjOTQyciJ9.juIQGQyyJdwT0cIfnbFA3Q';
  latitude='1724S'
  latitude= latitude.substr(0,2) + " " + latitude.substr(2, latitude.length)
  longitude='06611W'
  longitude= longitude.substr(0,3) + " " + longitude.substr(3, longitude.length)

  //alert(latitude, longitude)
  radius=parseInt('5')
  if (radius ==0 || radius==999) {
      radius=0;
  }else{
      radius=1852*radius;
  }
  var vector_posicion = parse_gps(longitude +" "+latitude)

  longitude=vector_posicion[1]
  latitude=vector_posicion[0]

  
  var map = new mapboxgl.Map({
    container: 'map',
    //style: 'mapbox://styles/mapbox/streets-v11',
    style: 'mapbox://styles/caelt/ckgljytdo02dj19pnnzqpr7sc',
    center: [longitude, latitude],
    zoom: 10,
    minZoom: 7,
    maxZoom: 15,
  });

  map.on('load', function() {
    map.addSource("source_circle_500", {
      "type": "geojson",
      "data": {
        "type": "FeatureCollection",
        "features": [{
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [longitude, latitude]
          }
        }]
      }
    });

    map.addLayer({
      "id": "circle500",
      "type": "circle",
      "source": "source_circle_500",
      "paint": {
        "circle-radius": {
            stops: [
              [0, 0],
              [20, metersToPixelsAtMaxZoom(radius,latitude)]
            ],
            base: 2
        },
        "circle-color": "#FA8258",
        "circle-opacity": 0.2
      }
    });
  });

  function metersToPixelsAtMaxZoom (meters, latitude){
    return (meters / 0.075 / Math.cos(latitude * Math.PI / 180))
  }

  //LAT': '1725S', 'LONG': '06610W'
  function parse_gps( input ) {

    if( input.indexOf( 'N' ) == -1 && input.indexOf( 'S' ) == -1 &&
        input.indexOf( 'W' ) == -1 && input.indexOf( 'E' ) == -1 ) {
        return input.split(',');
    }

    var parts = input.split(/[°'"]+/).join(' ').split(/[^\w\S]+/);

    var directions = [];
    var coords = [];
    var dd = 0;
    var pow = 0;

    for( i in parts ) {
    
        // we end on a direction
        if( isNaN( parts[i] ) ) {
        
            var _float = parseFloat( parts[i] );
        
            var direction = parts[i];
        
            if( !isNaN(_float ) ) {
                dd += ( _float / Math.pow( 60, pow++ ) );
                direction = parts[i].replace( _float, '' );
            }
          
            direction = direction[0];
          
            if( direction == 'S' || direction == 'W' )
                dd *= -1;
          
            directions[ directions.length ] = direction;
          
            coords[ coords.length ] = dd;
            dd = pow = 0;
          
        } else {
        
            dd += ( parseFloat(parts[i]) / Math.pow( 60, pow++ ) );
        
        }
      
    }

    if( directions[0] == 'W' || directions[0] == 'E' ) {
        var tmp = coords[0];
        coords[0] = coords[1];
        coords[1] = tmp;
    }

    return coords;
  }
  
*/
</script>




















<script src='https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js'></script>
<script src='https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.2.4/jspdf.plugin.autotable.min.js'></script>


<script>
  // jsPDF docs are found here:
  // http://raw.githack.com/MrRio/jsPDF/master/docs/
  current = new Date();

  form_oaci = new Vue({
    el: "#appFormularioOaci",
    vuetify: new Vuetify(),
    data() {
      return {
        heading: "Administración de Aeropuertos y \nServicios Auxiliares a la Navegación Aérea \nEstado Plurinacional de Bolivia",
        nombre_archivo: "",
        
        datos_formulario:
        {
          indicador_prioridad: "GG",
          direccion: "TODAS LAS DIRECCIONES AMHS DESTINO",
          fecha_hora_deposito: "2103251200",
          indicador_remitente: "SLLPYNYX",
          //parte 2 del formulario notam
          serie_numero_charly_origen_new: "C0092/21",
          serie_numero_alfa_origen_new: "A0092/21",

          serie_numero_charly_origen_repla: "C0092/21",
          serie_numero_alfa_origen_repla: "A0092/21",

          serie_numero_charly_origen_cancel: "C0092/21",
          serie_numero_alfa_origen_cancel: "A0092/21",

          serie_numero_charly_destino_repla: "",
          serie_numero_alfa_destino_repla: "",

          serie_numero_charly_destino_cancel: "",
          serie_numero_alfa_destino_cancel: "",
          //parte 3 del formulario notam
          fir: 'SLLF',
          codigo_notam: 'QWER',
          transito: '12',
          objetivo: 'OBJ',
          alcance: 'AL',
          limite_inferior: 'INF',
          limite_superior: 'SUP',
          coordenadas: '12321S12320W012',
          lugar: 'SLVR',
          //parte 4 del formulario notam: periodo de validez
          desde: '2103212243',
          hasta: '2103212243',
          horario: 'BTWN 1500 - 1800',
          texto_notam: ' ESTE ES EL TEXTO NOTAM',
          limite_inferior_casilla: 'LIMITE INFERIOR CASILLA',
          limite_superior_casilla: 'LIMITE SUPERIOR CASILLA',
          firma: 'tecnico de turno',
          
          dato_charly_amhs:"",
          dato_alfa_amhs:"",

          antecedente_notam:"ANTECEDENTE NOTAM ", 

          pib_publicar: ""
        },

      };
    },
    methods: {

      generatePDF() {

        
/***********************DATOS INICIO */
        var codificacion_file = "AIS_FORM_001_"+String(current.getDate())+'_'+String(current.getMonth()+1) + '_' + String(current.getFullYear()) +'='+ String(current.getHours()) + String(current.getMinutes());

        this.datos_formulario.indicador_prioridad = app_vue.form.model_prioridad;
        this.datos_formulario.direccion = "TODAS LAS DIRECCIONES AMHS DESTINO";
        this.datos_formulario.fecha_hora_deposito = app_vue.form.fecha_deposito.substring(8,)+""+app_vue.form.hora_deposito;//"2103251200",
        this.datos_formulario.indicador_remitente = app_vue.form.remitente;//"SLLPYNYX",
        //parte 2 del formulario notam
        if (app_vue.form.model_tiponotam == "NOTAMN") {
          this.datos_formulario.serie_numero_charly_origen_new = app_vue.form.correlativo_charly;//String(app_vue.form.correlativo_charly),
          this.datos_formulario.serie_numero_alfa_origen_new = app_vue.form.correlativo_alfa;  
          this.nombre_archivo = this.datos_formulario.serie_numero_charly_origen_new+'-'+this.datos_formulario.serie_numero_alfa_origen_new + '__' + codificacion_file;

        }else{
          this.datos_formulario.serie_numero_charly_origen_new = "";
          this.datos_formulario.serie_numero_alfa_origen_new = "";
        }
        
        if (app_vue.form.model_tiponotam == "NOTAMR") {
          this.datos_formulario.serie_numero_charly_origen_repla = app_vue.form.correlativo_charly;
          this.datos_formulario.serie_numero_alfa_origen_repla = app_vue.form.correlativo_alfa;
          this.nombre_archivo = this.datos_formulario.serie_numero_charly_origen_repla+'-'+this.datos_formulario.serie_numero_alfa_origen_repla + '__' + codificacion_file;

          this.datos_formulario.serie_numero_charly_destino_repla = app_vue.form.model_destino_notam_charly;
          this.datos_formulario.serie_numero_alfa_destino_repla = app_vue.form.model_destino_notam_alfa;
        }else{
          this.datos_formulario.serie_numero_charly_origen_repla = "";
          this.datos_formulario.serie_numero_alfa_origen_repla = "";

          this.datos_formulario.serie_numero_charly_destino_repla = "";
          this.datos_formulario.serie_numero_alfa_destino_repla = "";
        }
        
        if (app_vue.form.model_tiponotam == "NOTAMC") {
          this.datos_formulario.serie_numero_charly_origen_cancel = app_vue.form.correlativo_charly;
          this.datos_formulario.serie_numero_alfa_origen_cancel = app_vue.form.correlativo_alfa;
          this.nombre_archivo = this.datos_formulario.serie_numero_charly_origen_cancel+'-'+this.datos_formulario.serie_numero_alfa_origen_cancel + '__' + codificacion_file;
          
          this.datos_formulario.serie_numero_charly_destino_cancel = app_vue.form.model_destino_notam_charly;
          this.datos_formulario.serie_numero_alfa_destino_cancel = app_vue.form.model_destino_notam_alfa;

        }else{
          this.datos_formulario.serie_numero_charly_origen_cancel = "";
          this.datos_formulario.serie_numero_alfa_origen_cancel = "";

          this.datos_formulario.serie_numero_charly_destino_cancel = "";
          this.datos_formulario.serie_numero_alfa_destino_cancel = "";
        }
        
        
        //parte 3 del formulario notam
        this.datos_formulario.fir =  'SLLF';
        this.datos_formulario.codigo_notam =  app_vue.form.model_asunto+app_vue.form.model_estado_asunto;
        this.datos_formulario.transito =  app_vue.form.model_tipo;
        this.datos_formulario.objetivo =  app_vue.form.model_nbo;//'OBJ',
        this.datos_formulario.alcance =  app_vue.form.model_alcance;//'AL',
        this.datos_formulario.limite_inferior =  app_vue.form.nivel_inf;//'INF',
        this.datos_formulario.limite_superior =  app_vue.form.nivel_sup;//'SUP',
        this.datos_formulario.coordenadas =  app_vue.form.model_coordenadas.split(" ")[2]+app_vue.form.radio;
        this.datos_formulario.lugar =  app_vue.form.lugar;//'SLLP',
        //parte 4 del formulario notam: periodo de validez
        this.datos_formulario.desde = app_vue.form.desde_fecha.substring(2,).replace("-","").replace("-","")+app_vue.form.desde_hora;//'2103212243',
        this.datos_formulario.hasta = app_vue.form.hasta_fecha.substring(2,).replace("-","").replace("-","")+app_vue.form.hasta_hora;

        this.datos_formulario.estimado = app_vue.form.estimado[app_vue.form.estimado.length -1];
        this.datos_formulario.permanente = app_vue.form.permanente[app_vue.form.permanente.length -1];

        this.datos_formulario.horario = app_vue.form.casilla_d;
        this.datos_formulario.texto_notam = app_vue.form.cuerpo_charly+" \n\n E) "+app_vue.form.cuerpo_alfa;
        this.datos_formulario.limite_inferior_casilla = app_vue.form.limite_inferior;
        this.datos_formulario.limite_superior_casilla = app_vue.form.limite_superior;

        this.datos_formulario.firma = 'ESPECIALISTA AIS';
        
        this.datos_formulario.dato_charly_amhs = app_vue.obtener_codigo_charly_amhs()
        this.datos_formulario.dato_alfa_amhs = app_vue.obtener_codigo_alfa_amhs()

        this.datos_formulario.antecedente_notam = app_vue.form.model_antecedente_notam;

        try {
          this.datos_formulario.pib_publicar = document.getElementById("pib_publicar").textContent;
        } catch (error) {
          this.datos_formulario.pib_publicar = ""
        }




/***********************DATOS FIN*/

        const columns = [
          { title: "Title", dataKey: "title" },
          { title: "Body", dataKey: "body" },
          { title: "Cuerpo", dataKey: "cuerpo" }
        ];
        const doc = new jsPDF({
          orientation: "portrait",
          unit: "in",
          format: "letter",
        });

        
        const logo_aasana = "data:image/png;base64,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";
        doc.addImage(logo_aasana, "PNG", 1, 0.2, 1, 0.5);

        // text is placed using x, y coordinates
        doc.setFontSize(9).text(this.heading, 0.5, 0.85);
        doc.setFontSize(9).text("FORM AIS 001", 7, 1.0);
        // create a line under heading 
        //doc.setLineWidth(0.01).line(0.5, 1.1, 8.0, 1.1);
        
        doc.setFontSize(12).text("FORMATO NOTAM",3.5, 1.4);

        // Using autoTable plugin
        const color_celda = [230, 230, 255];
        
        
        doc.autoTable(
          {
            bodyStyles: {
              lineWidth: 0.01,
              lineColor: [0, 0, 0],
              fontSize: 10,
              cellPadding: 0
            },
            theme: "plain",
            
            cellWidth: 'wrap',
            columnStyles: {
              nombre_campo: { halign: 'center', valign: 'middle', minCellWidth: 1 },
              valor_campo: { minCellWidth: 5 }
            },
            columns: [
              { dataKey: 'nombre_campo', header: { content: "", colSpan: 3, styles: { halign: 'center', valign: 'middle', display:'none' } } },
              { dataKey: 'valor_campo', header: 'Valor_campo', },
              { dataKey: 'simbolo', header: 'Simbolo', },
            ],
            body: [
              { nombre_campo: { content: 'Indicador de prioridad', styles: { fillColor: color_celda } }, valor_campo: this.datos_formulario.indicador_prioridad, simbolo: '--->' },
              { nombre_campo: { content: 'Dirección', styles: { fillColor: color_celda } }, valor_campo: { content: this.datos_formulario.direccion, colSpan: 2 }, simbolo: '--->' },
              [{ content: " ", colSpan: 3, styles: { halign: 'center', valign: 'middle' } }],
              [{ content: " ", colSpan: 3, styles: { halign: 'center', valign: 'middle' } }],
              { nombre_campo: { content: ' ', colSpan: 2 }, simbolo: '<<<=' },
              { nombre_campo: { content: 'Fecha y hora de deposito', styles: { fillColor: color_celda } }, valor_campo: this.datos_formulario.fecha_hora_deposito, simbolo: '--->' },
              { nombre_campo: { content: 'Indicador del remitente', styles: { fillColor: color_celda } }, valor_campo: this.datos_formulario.indicador_remitente, simbolo: '<<= (' },
            ],

            margin: { left: 0.5, top: 1.25, bottom: 0, }
          })

        doc.autoTable(
          {
            startY: doc.lastAutoTable.finalY + 0.01,
            bodyStyles: {
              lineWidth: 0.005,
              lineColor: [0, 0, 0],
              fontSize: 10,
              cellPadding: 0
            },
            theme: "plain",
            headStyles: {
              fillColor: color_celda,
              lineWidth: 0.01,
              lineColor: [0, 0, 0],
              fontSize: 10,
            },
            columnStyles: {
              0: {
                cellWidth: 1.3, valign: 'middle', halign: 'center'
              },
              1: {
                cellWidth: 0.7
              },
              2: {
                cellWidth: 0.6
              },
              3: {
                cellWidth: 1.5
              },
            },

            // European countries centered
            columns: [
              { dataKey: 'principal', header: { content: "Serie, número e identificador del mensaje", colSpan: 4, styles: { halign: 'center', valign: 'middle' } } },
              { dataKey: 'uno', header: 'Serie, número e identificador del mensaje', },
              { dataKey: 'dos', header: 'Europe' },
              { dataKey: 'tres', header: 'Asia' },
              //{ header: 'America', dataKey: 'america' },
            ],

            body: [
              {
                principal:
                {
                  content: 'NOTAM que contiene nueva información',
                  rowSpan: 2,
                  styles: { fillColor: color_celda }
                },

                //llenando el NOTAM NUEVO o el NUEVO CORRELATIVO
                uno: this.datos_formulario.serie_numero_charly_origen_new + '\n' + this.datos_formulario.serie_numero_alfa_origen_new,
                dos: {
                  content: 'NOTAMN',
                  rowSpan: 2,
                  styles: {
                    valign: 'middle',
                    halign: 'center'
                  }
                },
                tres: {
                  content: '',
                  rowSpan: 2,
                }
              },

              {
                principal: {
                  content: ' '
                },
                uno: { content: "  (Serie y número/año) ", styles: { halign: 'left', valign: 'middle', cellPadding: 0, fontSize:8 } },
              },
              {
                principal: {
                  content: 'NOTAM que reemplaza un NOTAM anterior',
                  rowSpan: 2,
                  styles: {
                    fillColor: color_celda,
                  }
                },

                //llenando el NOTAM NUEVO o el NUEVO CORRELATIVO
                uno: '  '+this.datos_formulario.serie_numero_charly_origen_repla + '\n  ' + this.datos_formulario.serie_numero_alfa_origen_repla,
                dos: {
                  content: 'NOTAMR',
                  rowSpan: 2,
                  styles: {
                    valign: 'middle',
                    halign: 'center'
                  }
                },
                tres: '  '+this.datos_formulario.serie_numero_charly_destino_repla + '\n  ' + this.datos_formulario.serie_numero_alfa_destino_repla
              },

              { principal: { content: ' ' }, 
                uno: { content: "  (Serie y número/año) ", styles: { halign: 'left', valign: 'middle', cellPadding: 0,fontSize:8 } },
                tres: { content: " (Serie y número/año del NOTAM reemplazado) ", styles: { halign: 'left', valign: 'middle', cellPadding: 0,fontSize:8 } }
              },

              {
                principal: {
                  content: 'NOTAM que cancela un NOTAM anterior',
                  rowSpan: 2,
                  styles: {
                    fillColor: color_celda
                  }
                },

                //llenando el NOTAM NUEVO o el NUEVO CORRELATIVO
                uno: '  '+this.datos_formulario.serie_numero_charly_origen_cancel + '\n  ' + this.datos_formulario.serie_numero_alfa_origen_cancel,
                dos: {
                  content: 'NOTAMC',
                  rowSpan: 2,
                  styles: {
                    valign: 'middle',
                    halign: 'center'
                  }
                },
                tres: '  '+this.datos_formulario.serie_numero_charly_destino_cancel + '\n  ' + this.datos_formulario.serie_numero_alfa_destino_cancel
              },

              { principal: { content: ' ' }, 
                uno: { content: "  (Serie y número/año) ", styles: { halign: 'left', valign: 'middle', cellPadding: 0 ,fontSize:8} }, 
                tres:  { content: " (Serie y número/año del NOTAM cancelado) ", styles: { halign: 'left', valign: 'middle', cellPadding: 0,fontSize:8 } }
              },
            ],
            margin: { left: 0.5, top: 1.25, bottom: 0, }

          })

        doc.autoTable(
          {
            startY: doc.lastAutoTable.finalY + 0.01,
            bodyStyles: {
              lineWidth: 0.005,
              lineColor: [0, 0, 0],
              fontSize: 10,
              cellPadding: 0
            },
            theme: "plain",
            headStyles: {
              fillColor: color_celda,
              lineWidth: 0.01,
              lineColor: [0, 0, 0],
              fontSize: 10,
            },
            /*
            columnStyles: {
              0: {
                cellWidth: 1.3, valign: 'middle',halign: 'center'
              },
              1: {
                cellWidth: 0.7
              },
              2: {
                cellWidth: 0.6
              },
              3: {
                cellWidth: 1.5
              },
            },
            */
            // European countries centered
            columns: [
              //{ dataKey: 'principal', header:  },
              { dataKey: 'cell1', header: { content: "Calificativos", colSpan: 46, styles: { halign: 'center', valign: 'middle' } }, },
              { dataKey: 'cell2', header: '', },
              { dataKey: 'cell3', header: '', },
              { dataKey: 'cell4', header: '', },
              { dataKey: 'cell5', header: '', },
              { dataKey: 'cell6', header: '', },
              { dataKey: 'cell7', header: '', },
              { dataKey: 'cell8', header: '', },
              { dataKey: 'cell9', header: '', },
              { dataKey: 'cell10', header: '', },
              { dataKey: 'cell11', header: '', },
              { dataKey: 'cell12', header: '', },
              { dataKey: 'cell13', header: '', },
              { dataKey: 'cell14', header: '', },
              { dataKey: 'cell15', header: '', },
              { dataKey: 'cell16', header: '', },
              { dataKey: 'cell17', header: '', },
              { dataKey: 'cell18', header: '', },
              { dataKey: 'cell19', header: '', },
              { dataKey: 'cell20', header: '', },
              { dataKey: 'cell21', header: '', },
              { dataKey: 'cell22', header: '', },
              { dataKey: 'cell23', header: '', },
              { dataKey: 'cell24', header: '', },
              { dataKey: 'cell25', header: '', },
              { dataKey: 'cell26', header: '', },
              { dataKey: 'cell27', header: '', },
              { dataKey: 'cell28', header: '', },
              { dataKey: 'cell29', header: '', },
              { dataKey: 'cell30', header: '', },
              { dataKey: 'cell31', header: '', },
              { dataKey: 'cell32', header: '', },
              { dataKey: 'cell33', header: '', },
              { dataKey: 'cell34', header: '', },
              { dataKey: 'cell35', header: '', },
              { dataKey: 'cell36', header: '', },
              { dataKey: 'cell37', header: '', },
              { dataKey: 'cell38', header: '', },
              { dataKey: 'cell39', header: '', },
              { dataKey: 'cell40', header: '', },
              { dataKey: 'cell41', header: '', },
              { dataKey: 'cell42', header: '', },
              { dataKey: 'cell43', header: '', },
              { dataKey: 'cell44', header: '', },
              { dataKey: 'cell45', header: '', },
        { dataKey: 'cell46', header: '', },
              //{ header: 'America', dataKey: 'america' },
            ],
            body: [
              //FILA 1: TITULOS DE LAS CASILLAS
              {
                cell1: { content: " ", styles: { fillColor: color_celda, halign: 'center', valign: 'middle' } },
                //FIR
                cell2: { content: "FIR", colSpan: 5, styles: { fillColor: color_celda, halign: 'center', valign: 'middle' } },
                //codigo NOTAM
                cell7: { content: "Código NOTAM", colSpan: 6, styles: { fillColor: color_celda, halign: 'center', valign: 'middle' } },
                //TRANSITO
                cell13: { content: "Tránsito", colSpan: 3, styles: { fillColor: color_celda, halign: 'center', valign: 'middle' } },
                //OBJETIVO
                cell16: { content: "Objetivo", colSpan: 4, styles: { fillColor: color_celda, halign: 'center', valign: 'middle' } },
                //ALCANCE
                cell20: { content: "Alcance", colSpan: 3, styles: { fillColor: color_celda, halign: 'center', valign: 'middle' } },
                //LIMITE INFERIOR
                cell23: { content: "Límite inferior", colSpan: 4, styles: { fillColor: color_celda, halign: 'center', valign: 'middle' } },
                //LIMITE SUPERIOR
                cell27: { content: "Limite superior", colSpan: 4, styles: { fillColor: color_celda, halign: 'center', valign: 'middle' } },
                //COORDENADAS RADIO
                cell31: { content: "Coordenadas, Radio", colSpan: 15, styles: { fillColor: color_celda, halign: 'center', valign: 'middle' } },

                cell46: "<<=/",
              },
              //FILA 2: CASILLAS PARA LLENAR EL FORMULARIO
              {
                cell1: { content: "Q)", rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //FIR
                cell2: { content: this.datos_formulario.fir.substring(0, 1), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell3: { content: this.datos_formulario.fir.substring(1, 2), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell4: { content: this.datos_formulario.fir.substring(2, 3), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell5: { content: this.datos_formulario.fir.substring(3, 4), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell6: { content: '/', rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //codigo NOTAM
                cell7: { content: "Q", rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell8: { content: this.datos_formulario.codigo_notam.substring(0, 1), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell9: { content: this.datos_formulario.codigo_notam.substring(1, 2), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell10: { content: this.datos_formulario.codigo_notam.substring(2, 3), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell11: { content: this.datos_formulario.codigo_notam.substring(3, 4), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell12: { content: "/", rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //TRANSITO
                cell13: { content: this.datos_formulario.transito.substring(0, 1), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell14: { content: this.datos_formulario.transito.substring(1, 2), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell15: { content: "/", rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //OBJETIVO
                cell16: { content: this.datos_formulario.objetivo.substring(0, 1), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell17: { content: this.datos_formulario.objetivo.substring(1, 2), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell18: { content: this.datos_formulario.objetivo.substring(2, 3), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell19: { content: "/", rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //ALCANCE
                cell20: { content: this.datos_formulario.alcance.substring(0, 1), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell21: { content: this.datos_formulario.alcance.substring(1, 2), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell22: { content: "/", rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //LIMITE INFERIOR
                cell23: { content: this.datos_formulario.limite_inferior.substring(0, 1), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell24: { content: this.datos_formulario.limite_inferior.substring(1, 2), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell25: { content: this.datos_formulario.limite_inferior.substring(2, 3), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell26: { content: "/", rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //LIMITE SUPERIOR
                cell27: { content: this.datos_formulario.limite_superior.substring(0, 1), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell28: { content: this.datos_formulario.limite_superior.substring(1, 2), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell29: { content: this.datos_formulario.limite_superior.substring(2, 3), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell30: { content: "/", rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //COORDENADAS RADIO
                cell31: { content: this.datos_formulario.coordenadas.substring(0, 1), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell32: { content: this.datos_formulario.coordenadas.substring(1, 2), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell33: { content: this.datos_formulario.coordenadas.substring(2, 3), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell34: { content: this.datos_formulario.coordenadas.substring(3, 4), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell35: { content: this.datos_formulario.coordenadas.substring(4, 5), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell36: { content: this.datos_formulario.coordenadas.substring(5, 6), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell37: { content: this.datos_formulario.coordenadas.substring(6, 7), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell38: { content: this.datos_formulario.coordenadas.substring(7, 8), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell39: { content: this.datos_formulario.coordenadas.substring(8, 9), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell40: { content: this.datos_formulario.coordenadas.substring(9, 10), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell41: { content: this.datos_formulario.coordenadas.substring(10, 11), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell42: { content: this.datos_formulario.coordenadas.substring(11, 12), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell43: { content: this.datos_formulario.coordenadas.substring(12, 13), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell44: { content: this.datos_formulario.coordenadas.substring(13, 14), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
          cell45: { content: this.datos_formulario.coordenadas.substring(14, 15), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },

                cell46: "<<=/",
              },
              //FILA 3: SOLO PARA COMBINAR COLUMNAS
              {
                cell1: '',
                cell2: '',
                cell3: '',
                cell4: '',
                cell5: '',
                cell6: '',
                cell7: '',
                cell8: '',
                cell9: '',
                cell10: '',
                cell11: '',
                cell12: '',
                cell13: '',
                cell14: '',
                cell15: '',
                cell16: '',
                cell17: '',
                cell18: '',
                cell19: '',
                cell20: '',
                cell21: '',
                cell22: '',
                cell23: '',
                cell24: '',
                cell25: '',
                cell26: '',
                cell27: '',
                cell28: '',
                cell29: '',
                cell30: '',
                cell31: '',
                cell32: '',
                cell33: '',
                cell34: '',
                cell35: '',
                cell36: '',
                cell37: '',
                cell38: '',
                cell39: '',
                cell40: '',
                cell41: '',
                cell42: '',
                cell43: '',
                cell44: ' ',
                cell45: ' ',
                cell46: ' ',
              },
              //FILA 4: IDENTIFICACION DEL LUGAR
              {
                cell1: { content: "Identificación del indicador de lugar OACI correspondiente a la instalación, espacio aéreo o condición notificados", colSpan: 30, styles: { fillColor: color_celda, halign: 'left', valign: 'middle', cellPadding: 0.03 } },
                cell31: { content: "A)   " + this.datos_formulario.lugar, colSpan: 15, styles: { halign: 'left', valign: 'middle', cellPadding: 0.03 } },
                cell46: { content: '-->', styles: { halign: 'left', valign: 'middle', cellPadding: 0.03 } }
              }
            ],
            margin: { left: 0.5, top: 1.25, bottom: 0, }

          })

        doc.autoTable(
          {
            startY: doc.lastAutoTable.finalY + 0.01,
            bodyStyles: {
              lineWidth: 0.005,
              lineColor: [0, 0, 0],
              fontSize: 10,
              cellPadding: 0
            },
            theme: "plain",
            headStyles: {
              fillColor: color_celda,
              lineWidth: 0.01,
              lineColor: [0, 0, 0],
              fontSize: 10,
            },
            columnStyles: {
              0: {
                cellWidth: 1, valign: 'middle', halign: 'center'
              },

            },
            columns: [
              { dataKey: 'cell1', header: { content: "Período de validez", colSpan: 15, styles: { halign: 'center', valign: 'middle' } }, },
              { dataKey: 'cell2', header: '', },
              { dataKey: 'cell3', header: '', },
              { dataKey: 'cell4', header: '', },
              { dataKey: 'cell5', header: '', },
              { dataKey: 'cell6', header: '', },
              { dataKey: 'cell7', header: '', },
              { dataKey: 'cell8', header: '', },
              { dataKey: 'cell9', header: '', },
              { dataKey: 'cell10', header: '', },
              { dataKey: 'cell11', header: '', },
              { dataKey: 'cell12', header: '', },
              { dataKey: 'cell13', header: '', },
              { dataKey: 'cell14', header: '', },
              { dataKey: 'cell15', header: '', },
              //{ header: 'America', dataKey: 'america' },
            ],
            body: [
              //FILA 1: CASILLAS PARA LLENAR EL FORMULARIO DESDE
              {
                cell1: { content: "Desde (grupo fecha-hora)", rowSpan: 2, styles: { fillColor: color_celda, halign: 'left', valign: 'middle', cellPadding: 0.1 } },
                cell2: { content: 'B)', rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //PERIODO VALIDEZ CASILLA B)
                cell3: { content: this.datos_formulario.desde.substring(0, 1), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell4: { content: this.datos_formulario.desde.substring(1, 2), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell5: { content: this.datos_formulario.desde.substring(2, 3), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell6: { content: this.datos_formulario.desde.substring(3, 4), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell7: { content: this.datos_formulario.desde.substring(4, 5), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell8: { content: this.datos_formulario.desde.substring(5, 6), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell9: { content: this.datos_formulario.desde.substring(6, 7), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell10: { content: this.datos_formulario.desde.substring(7, 8), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell11: { content: this.datos_formulario.desde.substring(8, 9), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell12: { content: this.datos_formulario.desde.substring(9, 10), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //FLECHA
                cell13: { content: "-->", rowSpan: 2, colSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell15: "_"
              },
              //SOLO PARA COMBINAR COLUMNAS
              {
                cell1: '',
                cell2: '',
                cell3: '',
                cell4: '',
                cell5: '',
                cell6: '',
                cell7: '',
                cell8: '',
                cell9: '',
                cell10: '',
                cell11: '',
                cell12: '',
                cell13: '',
                cell14: '',
                cell15: '',

              },

              //FILA 2: CASILLAS PARA LLENAR EL FORMULARIO HASTA
              {
                cell1: { content: "Hasta (PERM o grupo fecha-hora)", rowSpan: 2, styles: { fillColor: color_celda, halign: 'left', valign: 'middle', cellPadding: 0.1 } },
                cell2: { content: 'C)', rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //PERIODO VALIDEZ CASILLA B)
                cell3: { content: this.datos_formulario.hasta.substring(0, 1), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell4: { content: this.datos_formulario.hasta.substring(1, 2), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell5: { content: this.datos_formulario.hasta.substring(2, 3), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell6: { content: this.datos_formulario.hasta.substring(3, 4), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell7: { content: this.datos_formulario.hasta.substring(4, 5), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell8: { content: this.datos_formulario.hasta.substring(5, 6), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell9: { content: this.datos_formulario.hasta.substring(6, 7), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell10: { content: this.datos_formulario.hasta.substring(7, 8), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell11: { content: this.datos_formulario.hasta.substring(8, 9), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                cell12: { content: this.datos_formulario.hasta.substring(9, 10), rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //FLECHA
                cell13: { content:  this.datos_formulario.estimado + "\n" + this.datos_formulario.permanente , rowSpan: 2, colSpan: 2, styles: { halign: 'center', valign: 'middle',fontSize:8 } },
                cell14: "SA",
                cell15: "_"
              },
              // SOLO PARA COMBINAR COLUMNAS
              {
                cell1: '',
                cell2: '',
                cell3: '',
                cell4: '',
                cell5: '',
                cell6: '',
                cell7: '',
                cell8: '',
                cell9: '',
                cell10: '',
                cell11: '',
                cell12: '',
                cell13: '',
                cell14: '',
                cell15: '',

              },
              //FILA 3: horario si corresponde
              {
                cell1: { content: "Horario (si corresponde)", rowSpan: 4, styles: { fillColor: color_celda, halign: 'left', valign: 'middle', cellPadding: 0.1 } },
                cell2: { content: 'D)', rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //PERIODO VALIDEZ CASILLA D)
                cell3: { content: this.datos_formulario.horario, rowSpan: 2, colSpan: 12, styles: { halign: 'left', valign: 'middle', cellPadding: 0.05, } },
                cell15: { content: " ", },
              },
              // SOLO PARA COMBINAR COLUMNAS
              {
                cell1: '',
                cell2: '',
                cell3: '',
                cell4: '',
                cell5: '',
                cell6: '',
                cell7: '',
                cell8: '',
                cell9: '',
                cell10: '',
                cell11: '',
                cell12: '',
                cell13: '',
                cell14: '',
                cell15: '',
              },
              //FILA 4: horario si corresponde, parte 2
              {
                cell1: { content: "" },
                cell2: { content: '', rowSpan: 2, styles: { halign: 'center', valign: 'middle' } },
                //PERIODO VALIDEZ CASILLA D) extendido
                cell3: { content: " ", colSpan: 12, rowSpan: 2, styles: { halign: 'left', valign: 'middle', cellPadding: 0.05 } },
                cell15: ""
              },
              // SOLO PARA COMBINAR COLUMNAS
              {
                cell1: '',
                cell2: '',
                cell3: '',
                cell4: '',
                cell5: '',
                cell6: '',
                cell7: '',
                cell8: '',
                cell9: '',
                cell10: '',
                cell11: '',
                cell12: '',
                cell13: '',
                cell14: '',
                cell15: '',
              },
            ],
            margin: { left: 0.5, top: 1.25, bottom: 0, }

          })

        doc.autoTable(
          {
            startY: doc.lastAutoTable.finalY + 0.01,
            bodyStyles: {
              lineWidth: 0.005,
              lineColor: [0, 0, 0],
              fontSize: 10,
              cellPadding: 0
            },
            theme: "plain",
            headStyles: {
              fillColor: color_celda,
              lineWidth: 0.01,
              lineColor: [0, 0, 0],
              fontSize: 10,
            },
            columnStyles: {
              0: {
                cellWidth: 0.45, valign: 'middle', halign: 'center'
              },
            },
            columns: [
              //{ dataKey: 'principal', header:  },
              { dataKey: 'cell1', header: { content: "Texto del NOTAM; Entradas en lenguaje claro (con abreviaturas OACI)", colSpan: 3, styles: { halign: 'center', valign: 'middle' } }, },
              { dataKey: 'cell2', header: '', },
              { dataKey: 'cell3', header: '', },
            ],
            body: [
              //FILA 1: CUERPO DEL MENSAJE E)
              {
                cell1: { content: "E) " + this.datos_formulario.texto_notam + "\n", rowSpan: 1, colSpan: 3, styles: { halign: 'left', valign: 'middle', cellPadding: 0.1 } },
              },
              //FILA 2: limite inferior
              {
                cell1: { content: "Limite inferior", styles: { fillColor: color_celda, halign: 'left', valign: 'middle', cellPadding: 0.02 } },
                cell2: { content: 'F) ' + this.datos_formulario.limite_inferior_casilla+ " ", styles: { halign: 'left', valign: 'middle', cellPadding: 0.02 } },
                cell3: { content: '-->', styles: { halign: 'center', valign: 'middle' } },
              },
              //FILA 3: limite superior
              {
                cell1: { content: "Limite superior", styles: { fillColor: color_celda, halign: 'left', valign: 'middle', cellPadding: 0.02 } },
                cell2: { content: 'G) ' + this.datos_formulario.limite_superior_casilla + " ", styles: { halign: 'left', valign: 'middle', cellPadding: 0.02 } },
                cell3: { content: ")<<=", styles: { halign: 'center', valign: 'middle' } },
              },
              //FILA 4: firma
              {
                cell1: { content: "Firma " + this.datos_formulario.firma, colSpan: 3, styles: { fillColor: color_celda, halign: 'left', valign: 'middle', cellPadding: 0.3 } },
              },
            ],
            margin: { left: 0.5, top: 1.25, bottom: 0, }
          })

//-------------------------------- PAGINA DOS
          doc
          .setFontSize(7)
          .setFontStyle("italic")
          .setTextColor(0, 0, 255)
          .text(
            "@appUpsilon",
            0.5,
            doc.internal.pageSize.height - 0.5
          );


        doc.addPage();

              doc.addImage(logo_aasana, "PNG", 1, 0.2, 1, 0.5);

              // text is placed using x, y coordinates
              doc.setFontSize(9).setFontStyle("normal").setTextColor(0, 0, 0).text(this.heading, 0.5, 0.85);
              doc.setFontSize(9).text("Anexos", 7, 1.0);
              // create a line under heading 
              //doc.setLineWidth(0.01).line(0.5, 1.1, 8.0, 1.1);


        doc.autoTable(
          {
            //startY: doc.lastAutoTable.finalY + 0.1,
            bodyStyles: {
              lineWidth: 0.005,
              lineColor: [0, 0, 0],
              fontSize: 10,
              cellPadding: 0
            },
            theme: "plain",
            headStyles: {
              fillColor: color_celda,
              lineWidth: 0.01,
              lineColor: [0, 0, 0],
              fontSize: 10,
            },
            columnStyles: {
              0: {
                cellWidth: 0.45, valign: 'middle', halign: 'center'
              },
            },
            columns: [
              //{ dataKey: 'principal', header:  },
              { dataKey: 'cell1', header: { content: "Antecedente", styles: { halign: 'center', valign: 'middle' } }, },
            ],
            body: [
              //FILA 1: CUERPO DEL MENSAJE E)
              {
                cell1: { content: this.datos_formulario.antecedente_notam , styles: { halign: 'left', valign: 'middle', cellPadding: 0.1 } },
              },
            ],
            margin: { left: 0.5, top: 1.25, bottom: 0, }
          })


        doc.autoTable(
          {
            //startY: doc.lastAutoTable.finalY + 0.1,
            bodyStyles: {
              lineWidth: 0.005,
              lineColor: [0, 0, 0],
              fontSize: 10,
              cellPadding: 0
            },
            theme: "plain",
            headStyles: {
              fillColor: color_celda,
              lineWidth: 0.01,
              lineColor: [0, 0, 0],
              fontSize: 10,
            },
            columnStyles: {
              0: {
                cellWidth: 0.45, valign: 'middle', halign: 'center'
              },
            },
            columns: [
              //{ dataKey: 'principal', header:  },
              { dataKey: 'cell1', header: { content: "Notam serie C", styles: { halign: 'center', valign: 'middle' } }, },
              { dataKey: 'cell2', header: { content: "Notam serie A", styles: { halign: 'center', valign: 'middle' } }, },
            ],
            body: [
              //FILA 1: CUERPO DEL MENSAJE E)
              {
                cell1: { content: this.datos_formulario.dato_charly_amhs + "\n \n", styles: { halign: 'left', valign: 'middle', cellPadding: 0.1 } },
                cell2: { content: this.datos_formulario.dato_alfa_amhs + "\n \n", styles: { halign: 'left', valign: 'middle', cellPadding: 0.1 } },
              },
            ],
            margin: { left: 0.5, top: 1.25, bottom: 0, }
          });


          doc.autoTable(
          {
            //startY: doc.lastAutoTable.finalY + 0.1,
            bodyStyles: {
              lineWidth: 0.005,
              lineColor: [0, 0, 0],
              fontSize: 10,
              cellPadding: 0
            },
            theme: "plain",
            headStyles: {
              fillColor: color_celda,
              lineWidth: 0.01,
              lineColor: [0, 0, 0],
              fontSize: 10,
            },
            columnStyles: {
              0: {
                cellWidth: 0.45, valign: 'middle', halign: 'center'
              },
            },
            columns: [
              //{ dataKey: 'principal', header:  },
              { dataKey: 'cell1', header: { content: "BOLETIN DE INFORMACIÓN PREVIA AL VUELO", styles: { halign: 'center', valign: 'middle' } }, },
            ],
            body: [
              //FILA 1: PIB DEL MENSAJE
              {
                cell1: { content: this.datos_formulario.pib_publicar , styles: { halign: 'left', valign: 'middle', cellPadding: 0.1 } },
              },
            ],
            margin: { left: 0.5, top: 1.25, bottom: 0, }
          });

         
        // Using array of sentences
        //doc.setFont("helvetica").setFontSize(12).text(this.moreText, 0.5, 3.5, { align: "left", maxWidth: "7.5" });

        // Creating footer and saving file
        doc
          .setFontSize(7)
          .setFontStyle("italic")
          .setTextColor(0, 0, 255)
          .text(
            "@appUpsilon",
            0.5,
            doc.internal.pageSize.height - 0.5
          )
          .save(`${this.nombre_archivo}.pdf`);

          //alert(doc.path())
      }
    }
  });

</script>


{% endblock extrajs %}



<!-- ////////////////////////////////////////////////////////////////////////////-->